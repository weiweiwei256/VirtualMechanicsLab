webpackJsonp([1],[,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"SETTING",function(){return o}),n.d(t,"HANDLE_HOTKEY",function(){return i}),n.d(t,"SAVE_SETTING",function(){return a}),n.d(t,"SAVE_SCENE",function(){return r}),n.d(t,"DELETE_SCENE",function(){return l}),n.d(t,"SET_SCENE",function(){return s}),n.d(t,"SET_SCENE_DESCRIPTION",function(){return c}),n.d(t,"INIT_SCENE_RUNNING",function(){return u}),n.d(t,"RELOAD_SCENE_RUNNING",function(){return d}),n.d(t,"SET_RENDER",function(){return f}),n.d(t,"SET_SHOW_SETTING",function(){return h}),n.d(t,"INIT_SCENE_EDITOR",function(){return p}),n.d(t,"RELOAD_SCENE_EDITOR",function(){return m}),n.d(t,"SET_EDITOR_GRAPH",function(){return v}),n.d(t,"SET_EDITOR_SELECTION_CELL",function(){return g}),n.d(t,"RECTANGLE",function(){return y}),n.d(t,"CIRCLE",function(){return S}),n.d(t,"TRIANGLE",function(){return E});var o="setting",i="vml/actions/handleHotKey",a="vml/actions/saveSetting",r="vml/actions/saveScene",l="vml/actions/deleteScene",s="vml/mutations/setScene",c="vml/mutations/setSceneDescription",u="vml/actions/initScenceRunning",d="vml/actions/reloadSceneRunning",f="vml/mutations/setRunningRender",h="vml/mutations/setShowSetting",p="vml/actions/initSceneEditor",m="vml/actions/reloadSceneEditor",v="vml/mutations/setEditorGraph",g="vml/mutations/setEditorSelectionCell",y="rectangle",S="circle",E="triangle"},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(27),i=n.n(o),a=n(42),r=n.n(a),l=n(3),s=n(101),c=n.n(s),u={generateCellData:function(e,t){var n=new window.mxCell;n.vertex=!0,n.value=t,n.value.physics=r()({},this.deepClone(c.a.physics),t.physics),n.value.condition=r()({},this.deepClone(c.a.condition),t.condition),n.value.style=r()({},this.deepClone(c.a.style),t.style);var o=n.value.style,i=o.fillColor,a=o.fontColor;n.style="fillColor="+i+";fontColor="+a;var s=(t.general,t.geometry);t.physics,t.condition,t.style;switch(e){case l.RECTANGLE:var u=s.x,d=s.y,f=s.width,h=s.height;n.geometry=new window.mxGeometry(u-f/2,d-h/2,f,h),n.style+=";shape=rectangle";break;case l.CIRCLE:var u=s.x,d=s.y,p=s.radius;n.geometry=new window.mxGeometry(u-p,d-p,2*p,2*p),n.style+=";shape=MyCircle";break;default:console.error("unknown body type:"+e)}return n.style+=";cursor=pointer",n},deepClone:function(e){return JSON.parse(i()(e))}};t.a=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o,i,a=n(27),r=n.n(a),l=n(155),s=n.n(l),c=n(163),u=n.n(c),d=n(161),f=n.n(d),h=n(42),p=n.n(h),m=n(4),v=n(12),g=n(3),y=n(41),S=(n.n(y),n(98)),E=n.n(S),b=n(101),_=n.n(b),x=n(283),w=n.n(x),C=n(148),D=n(146),N=n(254),R=(n.n(N),window.localStorage),T=p()({},w.a,null!==R.getItem(g.SETTING)?JSON.parse(R.getItem(g.SETTING)):{});m.default.use(v.d);var k=new v.d.Store({state:function(){return{setting:T,showSetting:!1,sceneName:T.activeSceneName,sceneDescription:E.a.description,sceneData:E.a,editorGraph:null,selectionCell:null,render:null}},getters:{setting:function(e){return e.setting},showSetting:function(e){return e.showSetting},sceneName:function(e){return e.sceneName},sceneDescription:function(e){return e.sceneDescription},editorGraph:function(e){return e.editorGraph},selectionCell:function(e){return e.selectionCell},sceneData:function(e){return e.sceneData},render:function(e){return e.render},engine:function(e){return e.render.engine},world:function(e){return e.render.engine.world}},mutations:(o={},f()(o,g.SET_SHOW_SETTING,function(e,t){e.showSetting=t}),f()(o,g.SET_RENDER,function(e,t){e.render=t}),f()(o,g.SET_EDITOR_GRAPH,function(e,t){e.editorGraph=t}),f()(o,g.SET_EDITOR_SELECTION_CELL,function(e,t){e.selectionCell=t}),f()(o,g.SET_SCENE_DESCRIPTION,function(e,t){e.sceneDescription=t}),f()(o,g.SET_SCENE,function(e,t){var n=t.sceneName,o=void 0===n?e.sceneName:n,i=t.sceneData;e.sceneName=o,e.sceneDescription=i.description,e.sceneData=i}),o),actions:(i={},f()(i,g.RELOAD_SCENE_EDITOR,function(e){var t=e.getters.editorGraph;t.getModel().setRoot(t.getModel().createRoot()),C.a.decode(e.getters.sceneData,t.model)}),f()(i,g.INIT_SCENE_EDITOR,function(e){var t=new mxGraph;t.panningHandler.useLeftButtonForPanning=!0,t.setPanning(!0),t.setTooltips(!0),t.getTooltip=function(e){return e.cell.value.general.des},t.createHandler=function(e){return null!=e&&this.model.isVertex(e.cell)?new D.a(e):mxGraph.prototype.createHandler.apply(this,arguments)},e.commit(g.SET_EDITOR_GRAPH,t),e.dispatch(g.RELOAD_SCENE_EDITOR),e.commit(g.SET_EDITOR_SELECTION_CELL,t.model.root.children[0]),t.labelChanged=function(e,n,o){e.value.general.label=n,t.cellLabelChanged(e,e.value,!1)},t.getSelectionModel().addListener(mxEvent.CHANGE,function(n,o){var i=t.getSelectionCell();i?e.commit(g.SET_EDITOR_SELECTION_CELL,i):e.commit(g.SET_EDITOR_SELECTION_CELL,t.model.root.children[0])}),t.addListener(mxEvent.MOVE_CELLS,function(e,t){var n=t.properties,o=u()(n.cells,1),i=o[0],a=n.dx,r=n.dy,l=i.value.geometry;l.x+=a,l.y+=r}),t.addListener(mxEvent.CELLS_RESIZED,function(e,t){var n=t.properties,o=u()(n.cells,1),i=o[0],a=u()(n.bounds,1),r=a[0],l=r.x,s=r.y,c=r.width,d=r.height,f=i.value.general.type,h=i.value.geometry;switch(f){case g.RECTANGLE:h.x=l+c/2,h.y=s+d/2,h.width=c,h.height=d;break;case g.CIRCLE:var p=Math.min(r.width,r.height)/2;r.width=2*p,r.height=2*p,h.x+=p,h.y+=p,h.radius=p}}),t.addListener(mxEvent.CELLS_ADDED,function(t,n){e.dispatch(g.SAVE_SCENE)}),t.popupMenuHandler.autoExpand=!0,t.popupMenuHandler.factoryMethod=function(e,n,o){null!=n&&e.addItem("delete",null,function(){t.removeCells([n])})}}),f()(i,g.INIT_SCENE_RUNNING,function(e,t){var n=y.Engine.create(),o=y.Render.create({engine:n,canvas:null,options:{width:t.clientWidth,height:t.clientHeight,pixelRatio:1,background:"gray",wireframeBackground:"blue",hasBounds:!1,enabled:!0,wireframes:!1,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!0,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}});e.commit(g.SET_RENDER,o),e.dispatch(g.RELOAD_SCENE_RUNNING)}),f()(i,g.RELOAD_SCENE_RUNNING,function(e){y.Common._nextId=0,y.Common._seed=0;var t=e.getters.render,n=e.getters.world,o=e.getters.engine;y.World.clear(n,!1);var i=e.getters.sceneData;n.gravity=p()({},i.global.gravity);for(var a=new s.a,r=0;r<i.bodies.length;r++){var l=void 0,c=i.bodies[r],u=c.general,d=c.geometry,f=c.physics,h=c.condition,m=c.style,v=u.type;switch(f=p()({label:u.label},_.a.physics,f),i.global.allowRotate||(f.inertia=1/0),v){case g.RECTANGLE:var S=d.x,E=d.y,b=d.width,x=d.height;l=y.Bodies.rectangle(S,E,b,x,f);break;case g.CIRCLE:var S=d.x,E=d.y,w=d.radius;l=y.Bodies.circle(S,E,w,f);break;default:console.error("unknown body type"+v)}f&&f.isStatic&&(y.Body.setStatic(l,!0),l.restitution=f.restitution),m=p()({},_.a.style,m),l.render.fillStyle=m.fillColor,l.render.fontColor=m.fontColor,h&&h.velocity&&y.Body.setVelocity(l,h.velocity),h&&h.force&&a.set(l,h.force),y.World.addBody(n,l)}y.Events.on(o,"beforeUpdate",function(e){a.forEach(function(e,t){y.Body.applyForce(t,t.position,e)})});var C=y.Mouse.create(t.canvas),D=y.MouseConstraint.create(o,{mouse:C,constraint:{stiffness:.2,render:{visible:!1}}});y.Events.on(D,"mousedown",function(e){var t=e.mouse.position;console.log("mousedown at "+t.x+" "+t.y)}),y.Events.on(D,"mousewheel",function(e){console.log(e.mouse)})}),f()(i,g.SAVE_SCENE,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getters.sceneName,n=C.a.encode(e.getters.editorGraph.getModel());n.description=e.getters.sceneDescription,e.commit(g.SET_SCENE,{sceneName:t,sceneData:n}),R.setItem(t,r()(n,null,2))}),f()(i,g.DELETE_SCENE,function(e,t){R.removeItem(t)}),f()(i,g.SAVE_SETTING,function(e){var t=e.getters.setting;t.activeSceneName=e.getters.sceneName,R.setItem(g.SETTING,r()(t))}),f()(i,g.HANDLE_HOTKEY,function(e,t){var n=e.getters.editorGraph;switch(t.toString()){case["Ctrl","wheel","up"].toString():n.zoomIn();break;case["Ctrl","wheel","down"].toString():n.zoomOut();break;case["Ctrl","x"].toString():mxClipboard.cut(n);break;case["Ctrl","c"].toString():mxClipboard.copy(n);break;case["Ctrl","v"].toString():mxClipboard.paste(n);break;default:console.warn("unknwn hotkey:"+t.toString())}}),i)});window.onbeforeunload=function(){},t.a=k},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={name:"默认场景",description:"这是一简单场景",author:"",global:{gravity:{x:0,y:1},allowRotate:!1},bodies:[{general:{type:"circle",label:"circle1",des:"这是一个圆"},geometry:{x:250,y:100,radius:50},physics:{mass:1,frictionAir:0,friction:0,restitution:1},condition:{},style:{fillColor:"#ff0000",fontColor:"#000000"}},{general:{type:"rectangle",label:"rectangle1",des:"这是一个矩形"},geometry:{x:100,y:50,width:80,height:80},physics:{mass:1,frictionAir:0,friction:0,restitution:1},condition:{},style:{}},{general:{type:"rectangle",label:"ground",des:"这是矩形充当地面"},geometry:{x:400,y:610,width:810,height:60},physics:{isStatic:!0},condition:{},style:{}}]}},,,function(e,t){e.exports={name:"场景名称",description:"场景描述",author:"",global:{gravity:{x:0,y:1},allowRotate:!1},physics:{isStatic:!1,mass:1,friction:0,frictionStatic:0,frictionAir:0,restitution:1},condition:{velocity:{x:0,y:0},force:{x:0,y:0}},style:{fillColor:"#C3D9FF",fontColor:"#774400"}}},function(e,t,n){"use strict";var o=n(26),i=n(3);mxCell.prototype.getAttribute=function(e,t){return this.getValue()[e]||t},mxCell.prototype.setAttribute=function(e,t){this.getValue()[e]=t},mxCell.prototype.cloneValue=function(){return o.a.deepClone(this.getValue())},mxVertexHandler.prototype.singleSizer=!0,mxGraph.prototype.convertValueToString=function(e){return e.value.general.label},mxGraph.prototype.valueForCellChanged=function(e,t){e.value.general.label=t},mxGraphHandler.prototype.guidesEnabled=!0,mxGuide.prototype.isEnabledForEvent=function(e){return!mxEvent.isAltDown(e)},mxVertexHandler.prototype.union=function(e,t,n,o,a,r,l,s,c){if(this.state.cell.value.general.type==i.CIRCLE){var u=Math.min(t,n);t=u,n=u}var d=e.x+e.width+t,f=e.y+e.height+n;a&&(d=this.graph.snap(d/r)*r,f=this.graph.snap(f/r)*r);var h=new mxRectangle(e.x,e.y,0,0);return h.add(new mxRectangle(d,f,0,0)),h}},function(e,t,n){"use strict";var o=n(41);n.n(o);o.Render.bodyIds=function(e,t,n){var o,i,a=n;for(o=0;o<t.length;o++)if(t[o].render.visible){var r=t[o].parts;for(i=r.length>1?1:0;i<r.length;i++){var l=r[i];a.font="12px Arial",a.fillStyle=l.render.fontColor,a.textAlign="center",a.fillText(l.label,l.position.x,l.position.y)}}}},function(e,t,n){"use strict";var o=n(3),i=n(72),a=["Ctrl","Shift","Alt"],r=["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Delete","Escape","Enter","Tab","ArrowUp","ArrowLeft","ArrowRight","AltGraph"],l={decodeKey:function(e){var t=new Array;return!0===e.ctrlKey&&t.push("Ctrl"),!0===e.shiftKey&&t.push("Shift"),!0===e.altKey&&t.push("Alt"),"mousewheel"==e.type?(t.push("wheel"),e.deltaY>0?t.push("up"):e.deltaY&&t.push("down")):(r.indexOf(e.key)>-1&&t.push(e.key),e.key&&1==e.key.length&&t.push(e.key)),t},forbidDefaultEvent:function(e,t){switch(t.toString()){case"Ctrl,z":case"Ctrl,y":case"Ctrl,s":case"Ctrl,+":case"Ctrl,=":case"Ctrl,-":case"Ctrl,0":case"Ctrl,wheel,up":case"Ctrl,wheel,down":e.preventDefault(),e.stopPropagation();break;case"Alt,e":e.preventDefault(),e.stopPropagation(),e.returnValue=!1}},checkShortKey:function(e){return!!(e.length>1&&a.includes(e[0])||1==e.length&&r.includes(e[0]))},handleKeyDown:function(e){var t=this.decodeKey(e);this.checkShortKey(t)&&(this.forbidDefaultEvent(e,t),i.a.dispatch(o.HANDLE_HOTKEY,t))}};!function(){document.addEventListener("keydown",function(e){l.handleKeyDown(e)},!0),document.onmousewheel=function(e){l.handleKeyDown(e)}}()},function(e,t,n){"use strict";var o=n(4),i=n(277),a=n(256),r=n.n(a);o.default.use(i.a),t.a=new i.a({routes:[{path:"/",component:r.a}]})},function(e,t,n){"use strict";n(152),n(151)},,function(e,t){},function(e,t){},,function(e,t,n){n(241);var o=n(7)(n(135),n(274),null,null);e.exports=o.exports},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(n(3),n(260)),i=n.n(o),a=n(259),r=n.n(a),l=n(261),s=n.n(l),c=n(265),u=n.n(c),d=n(257),f=n.n(d),h=n(258),p=n.n(h);t.default={name:"vml-workbench",data:function(){return{}},components:{GlobalSetting:i.a,VmlHeader:r.a,EditorProperty:f.a,SceneEditor:s.a,SceneRunning:u.a,RunningWatcher:p.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=n.n(o),a=n(3),r=(n(26),n(12));t.default={name:"scene-property",data:function(){return{types:a,activeTabName:"generalProperty"}},computed:i()({},n.i(r.a)({selectionCell:"selectionCell",graph:"editorGraph"}),{isRootCell:function(){return"1"==this.selectionCell.id},cellData:function(){return this.selectionCell.value},cellType:function(){return this.cellData.general.type}}),methods:{updateLabel:function(){this.graph.cellLabelChanged(this.selectionCell,this.selectionCell.value,!1)},updateGemotry:function(){var e=void 0;switch(this.selectionCell.value.general.type){case a.RECTANGLE:var t=this.selectionCell.value.geometry,n=t.x,o=t.y,i=t.width,r=t.height;e=new window.mxGeometry(n-i/2,o-r/2,i,r);break;case a.CIRCLE:var l=this.selectionCell.value.geometry,n=l.x,o=l.y,s=l.radius;e=new window.mxGeometry(n-s,o-s,2*s,2*s)}this.graph.getModel().setGeometry(this.selectionCell,e)},updateStyle:function(){var e=this.graph.getModel().getStyle(this.selectionCell);e=mxUtils.setStyle(e,"fillColor",this.selectionCell.value.style.fillColor),e=mxUtils.setStyle(e,"fontColor",this.selectionCell.value.style.fontColor),this.graph.getModel().setStyle(this.selectionCell,e)}},components:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=n.n(o),a=n(12),r=n(41);n.n(r);t.default={data:function(){return{watchFlag:!1,watcher:void 0}},computed:i()({},n.i(a.a)(["render","world"])),watch:{},methods:{handleWatch:function(){var e=this;this.watchFlag?this.watcher=setInterval(function(){var t=e.world.bodies[0];console.log("id:"+t.id),console.log(" body.velocity:",t.velocity.x,t.velocity.y)},300):clearInterval(this.watcher)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var o=n(27),i=n.n(o),a=n(8),r=n.n(a),l=n(3),s=n(12),c=n(255),u=n.n(c),d=n(149);t.default={name:"vml-header",data:function(){return{storage:window.localStorage,sceneBarDisplay:"none",defaultScenes:[],userScenes:[]}},computed:r()({},n.i(s.a)(["sceneName","sceneDescription","sceneData"]),{shortName:function(){return this.sceneName.substring(0,this.sceneName.indexOf(".scene"))}}),methods:r()({},n.i(s.c)({setSceneDescription:l.SET_SCENE_DESCRIPTION,setScene:l.SET_SCENE}),n.i(s.b)({reloadSceneEditor:l.RELOAD_SCENE_EDITOR,reloadSceneRunning:l.RELOAD_SCENE_RUNNING,saveScene:l.SAVE_SCENE,deleteScene:l.DELETE_SCENE}),{loadScene:function(){this.defaultScenes=d.a.getDefaultScenes(),this.userScenes=d.a.getUserScenes()},selectScene:function(e){this.setScene({sceneName:e.sceneName,sceneData:e.sceneData}),this.reloadSceneEditor(),this.reloadSceneRunning()},handleDeleteScene:function(e){this.userScenes.findIndex(function(t){return t.sceneName==e});this.userScenes.splice(this.userScenes,1),this.deleteScene(e)},saveSceneName:function(e){this.$refs.sceneNameInput.blur(),e!=this.shortName&&this.saveScene(e+".scene")},saveSceneDescription:function(e){this.setSceneDescription(e),this.saveScene()},focusSceneName:function(){this.$notify({title:"提示",message:"命名场景即可保存；点击关闭不在提示",offset:15,onClose:function(){return console.log("不在提示"),!0}})},showSceneBar:function(){this.sceneBarDisplay="inline-block"},hideSceneBar:function(){this.sceneBarDisplay="none"},handleSelect:function(e){switch(e){case"createScene":this.setScene({sceneName:e,sceneData:this.storage.getItem(e)});break;case"showScene":console.log(i()(this.sceneData,null,2));break;case"importScene":case"saveScene":break;default:console.error("unknown menu key:"+e)}},importScene:function(){var t=e("#import-scene-input")[0].files[0],n=new FileReader;n.readAsText(t);var o=this;n.onload=function(){console.log(t.name),console.log(this.result),o.setScene({sceneName:t.name,sceneData:JSON.parse(this.result)})}},handleAbout:function(){this.$confirm("这是一个模拟物理场景的实验室！","关于",{center:!0,showConfirmButton:!1,showCancelButton:!1,showClose:!0,type:"info "})}}),beforeMount:function(){},components:{CircleMenu:u.a}}}.call(t,n(40))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=n.n(o),a=n(3),r=n(12);t.default={name:"global-setting",data:function(){return{}},computed:i()({},n.i(r.a)(["showSetting"])),methods:i()({},n.i(r.c)({setShowSetting:a.SET_SHOW_SETTING}),{cancelSetting:function(){this.setShowSetting(!1)},saveSetting:function(){this.setShowSetting(!1)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var o=n(8),i=n.n(o),a=n(3),r=n(12),l=n(263),s=n.n(l),c=n(262),u=n.n(c);t.default={name:"scene-editor",data:function(){return{}},computed:i()({},n.i(r.a)(["sceneName","editorGraph","sceneData"])),methods:i()({},n.i(r.b)({initSceneEditor:a.INIT_SCENE_EDITOR}),{deleteBody:function(){console.log("delete")},undo:function(){console.log("undo")},redo:function(){console.log("redo")}}),beforeMount:function(){this.initSceneEditor()},mounted:function(){e("#graph-container")[0].style.cursor="pointer",this.editorGraph.init(e("#graph-container")[0]),this.editorGraph.view.refresh(),this.$refs.outline.outlineInit()},components:{ScenePalette:s.a,SceneOutline:u.a}}}.call(t,n(40))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var o=n(8),i=n.n(o),a=n(12);t.default={name:"editor-outline",computed:i()({},n.i(a.a)(["editorGraph"])),methods:{outlineInit:function(){new mxOutline(this.editorGraph,e("#outline")[0])}},mounted:function(){}}}.call(t,n(40))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=(n(12),n(264)),a=n.n(i);t.default={name:"scene-palette",data:function(){return{types:o}},components:{paletteItem:a.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=n.n(o),a=n(12),r=n(3),l=n(26),s=n(282),c=n.n(s),u=n(281),d=n.n(u);t.default={name:"palette-item",props:["icon","type","name"],computed:i()({},n.i(a.a)(["editorGraph"])),methods:i()({},n.i(a.b)({saveScene:r.SAVE_SCENE}),{addPaletteItem:function(e,t,n){e.stopEditing(!1);var o=e.getPointForEvent(t),i=o.x,a=o.y,s=void 0;switch(this.type){case r.RECTANGLE:s=l.a.deepClone(c.a);break;case r.CIRCLE:s=l.a.deepClone(d.a)}s.geometry.x=i,s.geometry.y=a;var u=l.a.generateCellData(this.type,s);e.setSelectionCells(e.importCells([u],0,0,n))}}),mounted:function(){mxUtils.makeDraggable(this.$refs.item,this.editorGraph,this.addPaletteItem)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var o=n(8),i=n.n(o),a=n(3),r=(n(147),n(41)),l=(n.n(r),n(12));t.default={name:"scene-running",data:function(){return{renderDom:void 0,runner:r.Runner.create(),scale:1,dragFlag:!1,originX:0,originY:0,contextMenuData:{menuName:"demo",axis:{x:null,y:null},menulists:[{fnHandler:"savedata",icoName:"fa fa-home fa-fw",btnName:"Save"},{fnHandler:"newdata",icoName:"fa fa-home fa-fw",btnName:"New"}]}}},computed:i()({},n.i(l.a)(["render","engine"])),methods:i()({},n.i(l.b)({initSceneRunning:a.INIT_SCENE_RUNNING}),{showMenu:function(){event.preventDefault();var e=event.clientX,t=event.clientY;this.contextMenuData.axis={x:e,y:t}},savedata:function(){alert(1)},newdata:function(){console.log("newdata!")}},n.i(l.b)({reloadSceneRunning:a.RELOAD_SCENE_RUNNING}),{sceneStart:function(){r.Runner.start(this.runner,this.engine)},scenePause:function(){r.Runner.stop(this.runner)},sceneReset:function(){r.Runner.stop(this.runner),this.reloadSceneRunning()},renderScene:function(){this.renderDom.appendChild(this.render.canvas),r.Render.lookAt(this.render,{min:{x:0,y:0},max:{x:this.renderDom.clientWidth,y:this.renderDom.clientHeight}}),r.Render.run(this.render)},handleAdd:function(){}}),mounted:function(){var t=this;this.renderDom=e("#scene-running-render")[0],this.renderDom.style.cursor="pointer",this.initSceneRunning(this.renderDom),this.reloadSceneRunning(),this.renderScene(),this.renderDom.addEventListener("mousewheel",function(e){var n=.002*e.wheelDelta;t.scale+=n,t.render.bounds.max.x=t.render.bounds.min.x+t.render.options.width*t.scale,t.render.bounds.max.y=t.render.bounds.min.y+t.render.options.height*t.scale},!0),this.renderDom.addEventListener("mousedown",function(e){t.dragFlag=!0,t.originX=e.offsetX,t.originY=e.offsetY},!0),this.renderDom.addEventListener("mousemove",function(e){if(t.dragFlag){var n={x:(t.originX-e.offsetX)*t.scale,y:(t.originY-e.offsetY)*t.scale};r.Bounds.translate(t.render.bounds,n),t.originX=e.offsetX,t.originY=e.offsetY}},!0),this.renderDom.addEventListener("mouseup",function(e){t.dragFlag=!1},!0)}}}.call(t,n(40))},function(e,t,n){"use strict";var o=n(28),i=n.n(o),a=n(43),r=n.n(a),l=n(44),s=n.n(l),c=n(46),u=n.n(c),d=n(162),f=n.n(d),h=n(45),p=n.n(h),m=n(3),v=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||i()(t)).apply(this,arguments))}return p()(t,e),s()(t,[{key:"init",value:function(){f()(t.prototype.__proto__||i()(t.prototype),"init",this).call(this),this.domNode=document.createElement("div"),this.domNode.style.position="absolute",this.domNode.style.whiteSpace="nowrap";var e=document.createElement("i");e.setAttribute("class","iconfont icon-delete"),mxEvent.addListener(e,"click",mxUtils.bind(this,function(e){this.graph.removeCells([this.state.cell]),mxEvent.consume(e)})),this.domNode.appendChild(e),this.graph.container.appendChild(this.domNode),this.redrawTools()}},{key:"redrawTools",value:function(){null!=this.state&&null!=this.domNode&&(this.domNode.style.left=this.state.x+"px",this.domNode.style.top=this.state.y+this.state.height+"px")}},{key:"redraw",value:function(){f()(t.prototype.__proto__||i()(t.prototype),"redraw",this).call(this),this.redrawTools()}},{key:"destroy",value:function(e,n){f()(t.prototype.__proto__||i()(t.prototype),"destroy",this).call(this),null!=this.domNode&&(this.domNode.parentNode.removeChild(this.domNode),this.domNode=null)}},{key:"createSelectionShape",value:function(e){var t=this.state.cell.value.general.type,n=void 0;return n=t==m.CIRCLE?new mxEllipse(e,null,this.getSelectionColor()):new mxRectangleShape(e,null,this.getSelectionColor()),n.strokewidth=this.getSelectionStrokeWidth(),n.isDashed=this.isSelectionDashed(),n}}]),t}(mxVertexHandler);t.a=v},function(e,t,n){"use strict";(function(e,t){var o,o,i=n(17),a=n.n(i);!function(o){if("object"==("undefined"==typeof exports?"undefined":a()(exports))&&void 0!==e)e.exports=o();else if("function"==typeof define&&n(279))define([],o);else{var i;"undefined"!=typeof window?i=window:void 0!==t?i=t:"undefined"!=typeof self&&(i=self),i.decomp=o()}}(function(){return function e(t,n,i){function a(l,s){if(!n[l]){if(!t[l]){var c="function"==typeof o&&o;if(!s&&c)return o(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+l+"'")}var u=n[l]={exports:{}};t[l][0].call(u.exports,function(e){var n=t[l][1][e];return a(n||e)},u,u.exports,e,t,n,i)}return n[l].exports}for(var r="function"==typeof o&&o,l=0;l<i.length;l++)a(i[l]);return a}({1:[function(e,t,n){function o(e,t,n){n=n||0;var o,i,a,r,l,s,c,u=[0,0];return o=e[1][1]-e[0][1],i=e[0][0]-e[1][0],a=o*e[0][0]+i*e[0][1],r=t[1][1]-t[0][1],l=t[0][0]-t[1][0],s=r*t[0][0]+l*t[0][1],c=o*l-r*i,N(c,0,n)||(u[0]=(l*a-i*s)/c,u[1]=(o*s-r*a)/c),u}function i(e,t,n,o){var i=t[0]-e[0],a=t[1]-e[1],r=o[0]-n[0],l=o[1]-n[1];if(r*a-l*i==0)return!1;var s=(i*(n[1]-e[1])+a*(e[0]-n[0]))/(r*a-l*i),c=(r*(e[1]-n[1])+l*(n[0]-e[0]))/(l*i-r*a);return s>=0&&s<=1&&c>=0&&c<=1}function a(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function r(e,t,n){return a(e,t,n)>0}function l(e,t,n){return a(e,t,n)>=0}function s(e,t,n){return a(e,t,n)<0}function c(e,t,n){return a(e,t,n)<=0}function u(e,t,n,o){if(o){var i=R,r=T;i[0]=t[0]-e[0],i[1]=t[1]-e[1],r[0]=n[0]-t[0],r[1]=n[1]-t[1];var l=i[0]*r[0]+i[1]*r[1],s=Math.sqrt(i[0]*i[0]+i[1]*i[1]),c=Math.sqrt(r[0]*r[0]+r[1]*r[1]);return Math.acos(l/(s*c))<o}return 0===a(e,t,n)}function d(e,t){var n=t[0]-e[0],o=t[1]-e[1];return n*n+o*o}function f(e,t){var n=e.length;return e[t<0?t%n+n:t%n]}function h(e){e.length=0}function p(e,t,n,o){for(var i=n;i<o;i++)e.push(t[i])}function m(e){for(var t=0,n=e,o=1;o<e.length;++o)(n[o][1]<n[t][1]||n[o][1]===n[t][1]&&n[o][0]>n[t][0])&&(t=o);r(f(e,t-1),f(e,t),f(e,t+1))||v(e)}function v(e){for(var t=[],n=e.length,o=0;o!==n;o++)t.push(e.pop());for(var o=0;o!==n;o++)e[o]=t[o]}function g(e,t){return s(f(e,t-1),f(e,t),f(e,t+1))}function y(e,t,n){var i,a,r=k,s=I;if(l(f(e,t+1),f(e,t),f(e,n))&&c(f(e,t-1),f(e,t),f(e,n)))return!1;a=d(f(e,t),f(e,n));for(var u=0;u!==e.length;++u)if((u+1)%e.length!==t&&u!==t&&l(f(e,t),f(e,n),f(e,u+1))&&c(f(e,t),f(e,n),f(e,u))&&(r[0]=f(e,t),r[1]=f(e,n),s[0]=f(e,u),s[1]=f(e,u+1),i=o(r,s),d(f(e,t),i)<a))return!1;return!0}function S(e,t,n,o){var i=o||[];if(h(i),t<n)for(var a=t;a<=n;a++)i.push(e[a]);else{for(var a=0;a<=n;a++)i.push(e[a]);for(var a=t;a<e.length;a++)i.push(e[a])}return i}function E(e){for(var t=[],n=[],o=[],i=[],a=Number.MAX_VALUE,r=0;r<e.length;++r)if(g(e,r))for(var l=0;l<e.length;++l)if(y(e,r,l)){n=E(S(e,r,l,i)),o=E(S(e,l,r,i));for(var s=0;s<o.length;s++)n.push(o[s]);n.length<a&&(t=n,a=n.length,t.push([f(e,r),f(e,l)]))}return t}function b(e){var t=E(e);return t.length>0?_(e,t):[e]}function _(e,t){if(0===t.length)return[e];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2===t[0].length&&t[0][0]instanceof Array){for(var n=[e],o=0;o<t.length;o++)for(var i=t[o],a=0;a<n.length;a++){var r=n[a],l=_(r,i);if(l){n.splice(a,1),n.push(l[0],l[1]);break}}return n}var i=t,o=e.indexOf(i[0]),a=e.indexOf(i[1]);return-1!==o&&-1!==a&&[S(e,o,a),S(e,a,o)]}function x(e){var t,n=e;for(t=0;t<n.length-1;t++)for(var o=0;o<t-1;o++)if(i(n[t],n[t+1],n[o],n[o+1]))return!1;for(t=1;t<n.length-2;t++)if(i(n[0],n[n.length-1],n[t],n[t+1]))return!1;return!0}function w(e,t,n,o,i){i=i||0;var a=t[1]-e[1],r=e[0]-t[0],l=a*e[0]+r*e[1],s=o[1]-n[1],c=n[0]-o[0],u=s*n[0]+c*n[1],d=a*c-s*r;return N(d,0,i)?[0,0]:[(c*l-r*u)/d,(a*u-s*l)/d]}function C(e,t,n,o,i,a,u){a=a||100,u=u||0,i=i||25,t=void 0!==t?t:[],n=n||[],o=o||[];var h=[0,0],m=[0,0],v=[0,0],y=0,S=0,E=0,b=0,_=0,x=0,D=0,N=[],R=[],T=e,k=e;if(k.length<3)return t;if(++u>a)return console.warn("quickDecomp: max level ("+a+") reached."),t;for(var I=0;I<e.length;++I)if(g(T,I)){n.push(T[I]),y=S=Number.MAX_VALUE;for(var L=0;L<e.length;++L)r(f(T,I-1),f(T,I),f(T,L))&&c(f(T,I-1),f(T,I),f(T,L-1))&&(v=w(f(T,I-1),f(T,I),f(T,L),f(T,L-1)),s(f(T,I+1),f(T,I),v)&&(E=d(T[I],v))<S&&(S=E,m=v,x=L)),r(f(T,I+1),f(T,I),f(T,L+1))&&c(f(T,I+1),f(T,I),f(T,L))&&(v=w(f(T,I+1),f(T,I),f(T,L),f(T,L+1)),r(f(T,I-1),f(T,I),v)&&(E=d(T[I],v))<y&&(y=E,h=v,_=L));if(x===(_+1)%e.length)v[0]=(m[0]+h[0])/2,v[1]=(m[1]+h[1])/2,o.push(v),I<_?(p(N,T,I,_+1),N.push(v),R.push(v),0!==x&&p(R,T,x,T.length),p(R,T,0,I+1)):(0!==I&&p(N,T,I,T.length),p(N,T,0,_+1),N.push(v),R.push(v),p(R,T,x,I+1));else{if(x>_&&(_+=e.length),b=Number.MAX_VALUE,_<x)return t;for(var L=x;L<=_;++L)l(f(T,I-1),f(T,I),f(T,L))&&c(f(T,I+1),f(T,I),f(T,L))&&(E=d(f(T,I),f(T,L)))<b&&(b=E,D=L%e.length);I<D?(p(N,T,I,D+1),0!==D&&p(R,T,D,k.length),p(R,T,0,I+1)):(0!==I&&p(N,T,I,k.length),p(N,T,0,D+1),p(R,T,D,I+1))}return N.length<R.length?(C(N,t,n,o,i,a,u),C(R,t,n,o,i,a,u)):(C(R,t,n,o,i,a,u),C(N,t,n,o,i,a,u)),t}return t.push(e),t}function D(e,t){for(var n=0,o=e.length-1;e.length>3&&o>=0;--o)u(f(e,o-1),f(e,o),f(e,o+1),t)&&(e.splice(o%e.length,1),n++);return n}function N(e,t,n){return n=n||0,Math.abs(e-t)<n}t.exports={decomp:b,quickDecomp:C,isSimple:x,removeCollinearPoints:D,makeCCW:m};var R=[],T=[],k=[],I=[]},{}]},{},[1])(1)})}).call(t,n(280)(e),n(22))},function(e,t,n){"use strict";var o=(n(3),n(26)),i={decode:function(e,t){var n=t.root.children[0],i=e.name,a=e.description,r=e.global;n.value={name:i,description:a,global:r};for(var l in e.bodies){var s=o.a.generateCellData(e.bodies[l].general.type,e.bodies[l]);n.insert(s)}t.setRoot(t.root)},encode:function(e){var t=e.root.children[0].value,n=t.name,o=t.description,i=t.global,a={name:n,description:o,global:i,bodies:[]};for(var r in e.root.children[0].children)a.bodies.push(e.root.children[0].children[r].value);return a}};t.a=i},function(e,t,n){"use strict";var o=n(27),i=n.n(o),a=n(98),r=n.n(a),l=window.localStorage,s={getScene:function(e){return l.getItem(e)||(console.error(e+" 未存在， 将默认场景作为其内容"),l.setItem(e,i()(r.a))),JSON.parse(l.getItem(e))},getUserScenes:function(){for(var e=[],t=0;t<l.length;t++){var n=l.key(t);if(n.includes(".scene")){var o=JSON.parse(l.getItem(n));e.push({sceneName:n,sceneData:o})}}return e},getDefaultScenes:function(){[].push({sceneName:"未命名.scene",description:r.a.description})}};t.a=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=n(111),a=n.n(i),r=n(105),l=n(72),s=n(107),c=n.n(s),u=n(108),d=(n.n(u),n(102),n(103),n(104),n(106),n(110)),f=n.n(d),h=n(109);n.n(h);o.default.config.productionTip=!1,o.default.use(c.a),o.default.use(f.a),new o.default({el:"#app",store:l.a,router:r.a,template:"<App/>",components:{App:a.a},strict:!1}),document.oncontextmenu=function(){return!1}},function(e,t,n){"use strict";var o=n(28),i=n.n(o),a=n(43),r=n.n(a),l=n(44),s=n.n(l),c=n(46),u=n.n(c),d=n(45),f=n.n(d),h=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||i()(t)).apply(this,arguments))}return f()(t,e),s()(t,[{key:"paintVertexShape",value:function(e,t,n,o,i){var a=Math.min(o,i);e.ellipse(t,n,a,a),e.fillAndStroke()}}]),t}(mxShape);mxCellRenderer.registerShape("MyCircle",h)},function(e,t,n){"use strict";var o=n(28),i=n.n(o),a=n(43),r=n.n(a),l=n(44),s=n.n(l),c=n(46),u=n.n(c),d=n(45),f=n.n(d),h=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||i()(t)).apply(this,arguments))}return f()(t,e),s()(t,[{key:"paintBackground",value:function(e,t,n,o,i){var a=this.state.cell.direction,r=void 0;switch(a){case 1:r=[{x:0,y:0},{x:0,y:i},{x:o,y:i}];break;case 2:r=[{x:o,y:0},{x:0,y:i},{x:o,y:i}];break;case 3:r=[{x:0,y:0},{x:o,y:0},{x:o,y:i}];break;case 4:r=[{x:0,y:0},{x:0,y:i},{x:o,y:0}]}e.translate(t,n),e.begin(),e.moveTo(r[0].x,r[0].y),e.lineTo(r[1].x,r[1].y),e.lineTo(r[2].x,r[2].y),e.lineTo(r[0].x,r[0].y),e.fillAndStroke(),e.end(),e.stroke()}}]),t}(mxShape);mxCellRenderer.registerShape("triangle",h)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,function(e,t,n){n(238);var o=n(7)(n(136),n(271),"data-v-63d5d8ec",null);e.exports=o.exports},function(e,t,n){n(234);var o=n(7)(n(137),n(266),null,null);e.exports=o.exports},function(e,t,n){n(242);var o=n(7)(n(138),n(275),null,null);e.exports=o.exports},function(e,t,n){n(235);var o=n(7)(n(139),n(267),null,null);e.exports=o.exports},function(e,t,n){n(243);var o=n(7)(n(140),n(276),null,null);e.exports=o.exports},function(e,t,n){n(239);var o=n(7)(n(141),n(272),"data-v-6a00d3f4",null);e.exports=o.exports},function(e,t,n){n(240);var o=n(7)(n(142),n(273),null,null);e.exports=o.exports},function(e,t,n){n(236);var o=n(7)(n(143),n(268),"data-v-3ed51946",null);e.exports=o.exports},function(e,t,n){var o=n(7)(n(144),n(269),null,null);e.exports=o.exports},function(e,t,n){n(237);var o=n(7)(n(145),n(270),null,null);e.exports=o.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"scene-editor-property"}},[e.isRootCell?n("el-tabs",{staticStyle:{"margin-left":"6px","margin-top":"3px"},attrs:{value:"sceneInfo"}},[n("el-tab-pane",{attrs:{label:"场景信息",name:"sceneInfo"}},[n("el-form",{attrs:{model:e.cellData,"label-width":"80px","label-position":"right"}},[n("el-form-item",{attrs:{label:"场景名称："}},[n("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.cellData.name,callback:function(t){e.$set(e.cellData,"name",t)},expression:"cellData.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"场景描述："}},[n("el-input",{attrs:{placeholder:"请输入描述",type:"textarea",rows:5},model:{value:e.cellData.description,callback:function(t){e.$set(e.cellData,"description",t)},expression:"cellData.description"}})],1)],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"全局属性",name:"globalProperty"}},[n("el-form",{attrs:{model:e.cellData,"label-width":"80px","label-position":"right"}},[n("el-form-item",{attrs:{label:"重力方向x："}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1},model:{value:e.cellData.global.gravity.x,callback:function(t){e.$set(e.cellData.global.gravity,"x",t)},expression:"cellData.global.gravity.x"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"重力方向y："}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1},model:{value:e.cellData.global.gravity.y,callback:function(t){e.$set(e.cellData.global.gravity,"y",t)},expression:"cellData.global.gravity.y"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"允许旋转："}},[n("el-switch",{model:{value:e.cellData.global.allowRotate,callback:function(t){e.$set(e.cellData.global,"allowRotate",t)},expression:"cellData.global.allowRotate"}})],1)],1)],1)],1):e._e(),e._v(" "),e.isRootCell?e._e():n("el-tabs",{staticStyle:{"margin-left":"6px","margin-top":"3px"},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[n("el-tab-pane",{attrs:{label:"通用属性",name:"generalProperty"}},[n("el-form",{attrs:{model:e.cellData,"label-width":"80px","label-position":"right"}},[n("el-form-item",{attrs:{label:"物体名称："}},[n("el-input",{attrs:{placeholder:"请输入名称"},on:{change:e.updateLabel},model:{value:e.cellData.general.label,callback:function(t){e.$set(e.cellData.general,"label",t)},expression:"cellData.general.label"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"物体描述："}},[n("el-input",{attrs:{placeholder:"请输入描述",type:"textarea",rows:3},model:{value:e.cellData.general.des,callback:function(t){e.$set(e.cellData.general,"des",t)},expression:"cellData.general.des"}})],1)],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"几何属性",name:"geometryProperty"}},[n("el-form",{attrs:{model:e.cellData,"label-width":"80px","label-position":"right"}},[n("el-form-item",{attrs:{label:"重心x："}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{step:5},on:{change:e.updateGemotry},model:{value:e.cellData.geometry.x,callback:function(t){e.$set(e.cellData.geometry,"x",t)},expression:"cellData.geometry.x"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"重心y："}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{step:5},on:{change:e.updateGemotry},model:{value:e.cellData.geometry.y,callback:function(t){e.$set(e.cellData.geometry,"y",t)},expression:"cellData.geometry.y"}})],1),e._v(" "),e.cellType==e.types.RECTANGLE?n("el-form-item",{attrs:{label:"宽度："}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,step:1},on:{change:e.updateGemotry},model:{value:e.cellData.geometry.width,callback:function(t){e.$set(e.cellData.geometry,"width",t)},expression:"cellData.geometry.width"}})],1):e._e(),e._v(" "),e.cellType==e.types.RECTANGLE?n("el-form-item",{attrs:{label:"高度："}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,step:1},on:{change:e.updateGemotry},model:{value:e.cellData.geometry.height,callback:function(t){e.$set(e.cellData.geometry,"height",t)},expression:"cellData.geometry.height"}})],1):e._e(),e._v(" "),e.cellType==e.types.CIRCLE?n("el-form-item",{attrs:{label:"半径："}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,step:1},on:{change:e.updateGemotry},model:{value:e.cellData.geometry.radius,callback:function(t){e.$set(e.cellData.geometry,"radius",t)},expression:"cellData.geometry.radius"}})],1):e._e()],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"物理属性",name:"physicalProperty"}},[n("el-form",{attrs:{model:e.cellData,"label-width":"80px","label-position":"right"}},[n("el-form-item",{attrs:{label:"是否静止："}},[n("el-switch",{model:{value:e.cellData.physics.isStatic,callback:function(t){e.$set(e.cellData.physics,"isStatic",t)},expression:"cellData.physics.isStatic"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"质量："}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,step:1,precision:2},model:{value:e.cellData.physics.mass,callback:function(t){e.$set(e.cellData.physics,"mass",t)},expression:"cellData.physics.mass"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"摩擦力："}},[n("el-slider",{attrs:{max:1,step:.1,"show-input":""},model:{value:e.cellData.physics.friction,callback:function(t){e.$set(e.cellData.physics,"friction",t)},expression:"cellData.physics.friction"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"恢复系数："}},[n("el-slider",{attrs:{max:1,step:.1,"show-input":""},model:{value:e.cellData.physics.restitution,callback:function(t){e.$set(e.cellData.physics,"restitution",t)},expression:"cellData.physics.restitution"}})],1)],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"条件属性",name:"initialCondition"}},[n("el-form",{attrs:{model:e.cellData,"label-width":"80px","label-position":"right"}},[n("el-form-item",{attrs:{label:"初始速度x："}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1},model:{value:e.cellData.condition.velocity.x,callback:function(t){e.$set(e.cellData.condition.velocity,"x",t)},expression:"cellData.condition.velocity.x"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"初始速度y："}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1},model:{value:e.cellData.condition.velocity.y,callback:function(t){e.$set(e.cellData.condition.velocity,"y",t)},expression:"cellData.condition.velocity.y"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"所受恒力x："}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1},model:{value:e.cellData.condition.force.x,callback:function(t){e.$set(e.cellData.condition.force,"x",t)},expression:"cellData.condition.force.x"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"所受恒力y："}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1},model:{value:e.cellData.condition.force.y,callback:function(t){e.$set(e.cellData.condition.force,"y",t)},expression:"cellData.condition.force.y"}})],1)],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"样式属性",name:"styleProperty"}},[n("el-form",{attrs:{model:e.cellData,"label-width":"80px","label-position":"right"}},[n("el-form-item",{attrs:{label:"填充颜色："}},[n("el-color-picker",{ref:"colorPick",on:{change:e.updateStyle},model:{value:e.cellData.style.fillColor,callback:function(t){e.$set(e.cellData.style,"fillColor",t)},expression:"cellData.style.fillColor"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"字体颜色："}},[n("el-color-picker",{on:{change:e.updateStyle},model:{value:e.cellData.style.fontColor,callback:function(t){e.$set(e.cellData.style,"fontColor",t)},expression:"cellData.style.fontColor"}})],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{attrs:{id:"vml-header"},on:{mouseenter:e.showSceneBar,mouseleave:e.hideSceneBar}},[n("el-popover",{attrs:{placement:"bottom-end",width:"200",trigger:"click"},on:{show:e.loadScene}},[n("el-card",{staticClass:"box-card"},[n("div",{attrs:{slot:"header",shadow:"hover"},slot:"header"},[n("span",[e._v("示例场景")])]),e._v(" "),e._l(4,function(t){return n("div",{key:t,staticClass:"text item"},[e._v("\n        "+e._s("列表内容 "+t)+"\n      ")])})],2),e._v(" "),n("el-card",{staticClass:"box-card"},[n("div",{attrs:{slot:"header",shadow:"hover"},slot:"header"},[n("span",[e._v("你的场景")])]),e._v(" "),e._l(e.userScenes,function(t){return n("div",{key:t.sceneName,staticClass:"text item"},[n("span",{staticStyle:{width:"100%"},attrs:{title:t.sceneData.description},on:{"":function(e){},click:function(n){e.selectScene(t)}}},[e._v(e._s(t.sceneName))]),e._v(" "),n("i",{staticClass:"iconfont icon-delete",staticStyle:{"font-size":"15px",float:"right"},attrs:{title:"删除场景"},on:{click:function(n){e.handleDeleteScene(t.sceneName)}}})])})],2),e._v(" "),n("i",{staticClass:"el-icon-circle-plus-outline",style:{display:e.sceneBarDisplay},attrs:{slot:"reference",title:"打开场景"},slot:"reference"})],1),e._v(" "),n("input",{ref:"sceneNameInput",attrs:{id:"scene-name-input",type:"text"},domProps:{value:e.shortName},on:{focus:e.focusSceneName,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.saveSceneName(t.target.value)},mouseout:function(t){e.saveSceneName(t.target.value)}}}),e._v(" "),n("el-popover",{attrs:{placement:"bottom",width:"300",trigger:"click","open-delay":500}},[n("el-input",{attrs:{type:"textarea",rows:5,placeholder:"场景描述",value:e.sceneDescription},on:{blur:function(t){e.saveSceneDescription(t.target.value)}}}),e._v(" "),n("i",{staticClass:"el-icon-edit",style:{display:e.sceneBarDisplay},attrs:{slot:"reference",title:"编辑描述"},slot:"reference"})],1),e._v(" "),n("circle-menu",{staticClass:"circle-menu-style",attrs:{type:"bottom",number:4,animate:"animated jello",circle:""}},[n("a",{staticClass:"question el-icon-question",attrs:{slot:"item_btn",title:"帮助"},slot:"item_btn"}),e._v(" "),n("a",{staticClass:"question-font",attrs:{slot:"item_1"},on:{click:e.handleAbout},slot:"item_1"},[e._v("关于")]),e._v(" "),n("a",{staticClass:"question-font",attrs:{slot:"item_2"},slot:"item_2"},[e._v("问答")]),e._v(" "),n("a",{staticClass:"question-font",attrs:{slot:"item_3"},slot:"item_3"},[e._v("建议")]),e._v(" "),n("a",{staticClass:"question-font",attrs:{slot:"item_4"},slot:"item_4"},[e._v("支持")])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"scene-editor-palette"}},[n("div",{attrs:{id:"object-palette"}},[n("p",{staticStyle:{"text-align":"center"}},[e._v("物体列表")]),e._v(" "),n("palette-item",{attrs:{icon:"icon-rectangle",type:e.types.RECTANGLE,name:"矩形"}}),e._v(" "),n("palette-item",{attrs:{icon:"icon-circle",type:e.types.CIRCLE,name:"圆形"}})],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"item",staticClass:"palette-item"},[n("el-tooltip",{attrs:{effect:"light","open-delay":500,"hide-after":3e3,content:e.name,placement:"right"}},[n("div",{staticStyle:{"text-align":"center"}},[n("i",{staticClass:"iconfont",class:e.icon,staticStyle:{"font-size":"60px"}})])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"scene-running"}},[n("div",{attrs:{id:"scene-running-toolbar"}},[n("el-tooltip",{attrs:{effect:"light","open-delay":500,"hide-after":3e3,content:"开始",placement:"top"}},[n("i",{staticClass:"iconfont icon-start",on:{click:e.sceneStart}})]),e._v(" "),n("el-tooltip",{attrs:{effect:"light","open-delay":500,"hide-after":3e3,content:"暂停",placement:"top"}},[n("i",{staticClass:"iconfont icon-zanting",on:{click:e.scenePause}})]),e._v(" "),n("el-tooltip",{attrs:{effect:"light","open-delay":500,"hide-after":3e3,content:"刷新",placement:"top"}},[n("i",{staticClass:"iconfont icon-restart",on:{click:e.sceneReset}})])],1),e._v(" "),n("div",{attrs:{id:"scene-running-render"},on:{contextmenu:e.showMenu}}),e._v(" "),n("vue-context-menu",{attrs:{contextMenuData:e.contextMenuData},on:{savedata:e.savedata,newdata:e.newdata}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"vml-workbench"}},[n("GlobalSetting"),e._v(" "),n("vml-header",{attrs:{id:"top-workbench"}}),e._v(" "),n("div",{attrs:{id:"main-workbench"}},[n("scene-editor",{staticStyle:{float:"left",width:"50%",height:"100%"}}),e._v(" "),n("scene-running",{staticStyle:{float:"right",width:"50%",height:"100%"}})],1),e._v(" "),n("div",{attrs:{id:"bottom-workbench"}},[n("EditorProperty",{staticStyle:{float:"left",width:"50%"}}),e._v(" "),n("RunningWatcher",{staticStyle:{float:"right",width:"50%"}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"scene-editor"}},[n("div",{staticStyle:{height:"100%"},attrs:{id:"editor-main"}},[n("div",{staticStyle:{width:"100px",height:"100%",float:"left",position:"relative"},attrs:{id:"editor-left"}},[n("scene-palette"),e._v(" "),n("scene-outline",{ref:"outline"})],1),e._v(" "),e._m(0)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"calc(100% - 100px)",height:"100%",float:"right"},attrs:{id:"editor-content"}},[n("div",{attrs:{id:"graph-container"}})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{id:"outline"}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{id:"running-watcher"}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"设置",visible:e.showSetting,width:"30%",center:""},on:{"update:visible":function(t){e.showSetting=t}}},[n("span",[e._v("需要注意的是内容是默认不居中的")]),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancelSetting}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.saveSetting}},[e._v("确 定")])],1)])},staticRenderFns:[]}},,,,,function(e,t){e.exports={general:{type:"circle",label:"circle",des:"这是一个新圆形"},geometry:{radius:50}}},function(e,t){e.exports={general:{type:"rectangle",label:"rectangle",des:"这是一个新矩形"},geometry:{width:100,height:80}}},function(e,t){e.exports={activeSceneName:"未命名.scene"}}],[150]);
//# sourceMappingURL=app.8d6726f7767ddf35d08d.js.map