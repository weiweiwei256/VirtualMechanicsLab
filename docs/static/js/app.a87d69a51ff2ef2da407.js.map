{"version":3,"sources":["webpack:///static/js/app.a87d69a51ff2ef2da407.js","webpack:///App.vue","webpack:///SceneRunning.vue","webpack:///VmlWorkbench.vue","webpack:///SceneEditor.vue","webpack:///./src/main.js","webpack:///./src/store/default.scene","webpack:///./src/views/SceneRunning.vue","webpack:///./src/views/VmlWorkbench.vue?a6c4","webpack:///./src/modules-constant.js","webpack:///./src/views/scene-editor/SceneEditor.vue?2ff9","webpack:///./src/views/SceneRunning.vue?5377","webpack:///./src/views/scene-editor/SceneEditor.vue?829c","webpack:///./src/views/VmlWorkbench.vue?63b0","webpack:///./src/App.vue?c8ad","webpack:///./src/store/scene-codec.js","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?05e5"],"names":["webpackJsonp","102","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","name","103","$","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1__modules_constant_js__","__WEBPACK_IMPORTED_MODULE_2_matter_js__","__WEBPACK_IMPORTED_MODULE_3_vuex__","data","renderDom","undefined","runner","create","viewPort","min","x","y","max","computed","i","watch","handler","lookAt","this","runningRender","deep","methods","initSceneRunning","sceneStart","start","engine","scenePause","stop","sceneReset","_nextId","_seed","canvas","parentElement","removeChild","renderScene","appendChild","width","clientWidth","height","clientHeight","run","handleAdd","mounted","call","104","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_2__modules_constant_js__","__WEBPACK_IMPORTED_MODULE_4__scene_editor_SceneEditor_vue__","__WEBPACK_IMPORTED_MODULE_4__scene_editor_SceneEditor_vue___default","__WEBPACK_IMPORTED_MODULE_5__SceneRunning_vue__","__WEBPACK_IMPORTED_MODULE_5__SceneRunning_vue___default","storage","window","localStorage","sceneEditorSpan","sceneRunningSpan","storageFileNames","length","push","key","saveScene","initSceneEditor","handleSelect","fileName","sceneData","getItem","console","log","setItem","error","importScene","file","files","reader","FileReader","readAsText","self","onload","result","JSON","parse","sceneEdit","sceneHalf","sceneRunning","beforeMount","components","SceneEditor","a","SceneRunning","105","__WEBPACK_IMPORTED_MODULE_2_vuex__","__WEBPACK_IMPORTED_MODULE_3__store_scene_codec_js__","vertices","edges","saveSceneData","encode","editorGraph","getModel","deleteBody","undo","redo","initToolBar","tbContainer","document","getElementById","toolbar","mxToolbar","enabled","vertex","mxCell","label","mxGeometry","type","setVertex","funct","graph","evt","cell","stopEditing","pt","getPointForEvent","vertexClone","cloneCell","geometry","setSelectionCells","importCells","img","addMode","mxUtils","makeDraggable","init","view","refresh","106","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","__WEBPACK_IMPORTED_MODULE_3__store__","__WEBPACK_IMPORTED_MODULE_4_element_ui__","__WEBPACK_IMPORTED_MODULE_4_element_ui___default","__WEBPACK_IMPORTED_MODULE_5_element_ui_lib_theme_chalk_index_css__","config","productionTip","use","el","store","router","template","App","strict","107","exports","165","166","167","168","169","description","bodies","options","render","fillStyle","friction","frictionStatic","frictionAir","isStatic","gravity","scale","178","Component","179","18","d","SAVE_SCENE","INIT_SCENE_RUNNING","SET_RUNNING_RENDER","INIT_SCENE_EDITOR","SET_EDITOR_GRAPH","SET_EDITOR_SELECTION_CELL","180","181","_vm","_h","$createElement","_c","_self","staticStyle","attrs","id","title","icon","on","click","_v","model","callback","$$v","$set","expression","staticRenderFns","182","span","183","staticClass","mode","background-color","text-color","active-text-color","select","index","slot","_l","item","_s","change","href","target","184","52","SceneCodec","decode","jsonData","parentCell","root","children","style","_jsonData$bodies$_i","insert","setRoot","newModel","mxGraphModel","body","74","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__views_VmlWorkbench_vue__","__WEBPACK_IMPORTED_MODULE_2__views_VmlWorkbench_vue___default","routes","path","component","75","_mutations","_actions","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default","__WEBPACK_IMPORTED_MODULE_1_vue__","__WEBPACK_IMPORTED_MODULE_3__modules_constant_js__","__WEBPACK_IMPORTED_MODULE_4_matter_js__","__WEBPACK_IMPORTED_MODULE_5__store_default_scene__","__WEBPACK_IMPORTED_MODULE_5__store_default_scene___default","__WEBPACK_IMPORTED_MODULE_6__matter_decodec__","__WEBPACK_IMPORTED_MODULE_7__scene_codec__","Store","state","editorSelectionCell","getters","world","mutations","_ref","actions","context","pixelRatio","background","wireframeBackground","hasBounds","wireframes","showSleeping","showDebug","showBroadphase","showBounds","showVelocity","showCollisions","showSeparations","showAxes","showPositions","showAngleIndicator","showIds","showShadows","showVertexNumbers","showConvexHulls","showInternalEdges","showMousePosition","commit","bodyData","bodyObject","rectangle","addBody","event","mousePosition","mouse","mousedownPosition","allBodies","contains","bounds","mxGraph","getSelectionModel","addListener","mxEvent","CHANGE","sender","getSelectionCell","convertValueToString","valueForCellChanged","newValue","77","78"],"mappings":"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","file":"static/js/app.a87d69a51ff2ef2da407.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 102:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__modules_constant_js__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_matter_js__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_matter_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_matter_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vuex__ = __webpack_require__(28);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'scene-running',\n  data: function data() {\n    return {\n      renderDom: undefined,\n      runner: __WEBPACK_IMPORTED_MODULE_2_matter_js__[\"Runner\"].create(),\n      viewPort: {\n        min: { x: 0, y: 0 },\n        max: { x: 800, y: 600 }\n      }\n    };\n  },\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_vuex__[\"a\" /* mapGetters */])(['runningRender', 'engine'])),\n  watch: {\n    viewPort: {\n      handler: function handler() {\n        __WEBPACK_IMPORTED_MODULE_2_matter_js__[\"Render\"].lookAt(this.runningRender, this.viewPort);\n      },\n      deep: true\n    }\n  },\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_vuex__[\"c\" /* mapActions */])({\n    initSceneRunning: __WEBPACK_IMPORTED_MODULE_1__modules_constant_js__[\"c\" /* INIT_SCENE_RUNNING */]\n  }), {\n    sceneStart: function sceneStart() {\n      __WEBPACK_IMPORTED_MODULE_2_matter_js__[\"Runner\"].start(this.runner, this.engine);\n    },\n    scenePause: function scenePause() {\n      __WEBPACK_IMPORTED_MODULE_2_matter_js__[\"Runner\"].stop(this.runner);\n    },\n    sceneReset: function sceneReset() {\n      __WEBPACK_IMPORTED_MODULE_2_matter_js__[\"Common\"]._nextId = 0;\n      __WEBPACK_IMPORTED_MODULE_2_matter_js__[\"Common\"]._seed = 0;\n      __WEBPACK_IMPORTED_MODULE_2_matter_js__[\"Render\"].stop(this.runningRender);\n      __WEBPACK_IMPORTED_MODULE_2_matter_js__[\"Runner\"].stop(this.runner);\n      this.runningRender.canvas.parentElement.removeChild(this.runningRender.canvas);\n      this.initSceneRunning();\n      this.renderScene();\n    },\n    renderScene: function renderScene() {\n      this.renderDom.appendChild(this.runningRender.canvas);\n      __WEBPACK_IMPORTED_MODULE_2_matter_js__[\"Render\"].lookAt(this.runningRender, this.viewPort);\n\n      this.runningRender.canvas.width = this.renderDom.clientWidth;\n      this.runningRender.canvas.height = this.renderDom.clientHeight;\n      __WEBPACK_IMPORTED_MODULE_2_matter_js__[\"Render\"].run(this.runningRender);\n    },\n    handleAdd: function handleAdd() {}\n  }),\n  mounted: function mounted() {\n    this.renderDom = $('#scene-running-runningRender')[0];\n    this.initSceneRunning();\n    this.renderScene();\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(49)))\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(108);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__modules_constant_js__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vuex__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__scene_editor_SceneEditor_vue__ = __webpack_require__(180);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__scene_editor_SceneEditor_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__scene_editor_SceneEditor_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__SceneRunning_vue__ = __webpack_require__(178);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__SceneRunning_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__SceneRunning_vue__);\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'vml-workbench',\n  data: function data() {\n    return {\n      storage: window.localStorage,\n      sceneEditorSpan: 12,\n      sceneRunningSpan: 12\n    };\n  },\n  computed: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_vuex__[\"a\" /* mapGetters */])(['fileName', 'sceneData']), {\n    storageFileNames: function storageFileNames() {\n      var storageFileNames = [];\n      for (var i = 0; i < this.storage.length; i++) {\n        storageFileNames.push(this.storage.key(i));\n      }\n      return storageFileNames;\n    }\n  }),\n  watch: {\n    storageFileNames: function storageFileNames() {}\n  },\n  methods: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_vuex__[\"b\" /* mapMutations */])({\n    saveScene: __WEBPACK_IMPORTED_MODULE_2__modules_constant_js__[\"a\" /* SAVE_SCENE */]\n  }), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_vuex__[\"c\" /* mapActions */])({\n    initSceneEditor: __WEBPACK_IMPORTED_MODULE_2__modules_constant_js__[\"b\" /* INIT_SCENE_EDITOR */],\n    initSceneRunning: __WEBPACK_IMPORTED_MODULE_2__modules_constant_js__[\"c\" /* INIT_SCENE_RUNNING */]\n  }), {\n    handleSelect: function handleSelect(key) {\n      switch (key) {\n        case 'createScene':\n          this.saveScene({ fileName: key, sceneData: this.storage.getItem(key) });\n          break;\n        case 'showScene':\n          console.log(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.sceneData));\n          break;\n        case 'importScene':\n          break;\n        case 'saveScene':\n          this.storage.setItem(this.fileName, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.sceneData, null, 2));\n          break;\n        default:\n          console.error('unknown menu key:' + key);\n      }\n    },\n\n    importScene: function importScene() {\n      var file = $(\"#import-scene-input\")[0].files[0];\n      var reader = new FileReader();\n\n      reader.readAsText(file);\n      var self = this;\n      reader.onload = function () {\n        console.log(file.name);\n        console.log(this.result);\n        self.saveScene({ fileName: file.name, sceneData: JSON.parse(this.result) });\n      };\n    },\n\n    sceneEdit: function sceneEdit() {\n      this.sceneEditorSpan = 24;\n      this.sceneRunningSpan = 0;\n    },\n    sceneHalf: function sceneHalf() {\n      this.sceneEditorSpan = 12;\n      this.sceneRunningSpan = 12;\n    },\n    sceneRunning: function sceneRunning() {\n      this.sceneEditorSpan = 0;\n      this.sceneRunningSpan = 24;\n    }\n  }),\n  beforeMount: function beforeMount() {\n    this.initSceneEditor();\n    this.initSceneRunning();\n  },\n  components: {\n    SceneEditor: __WEBPACK_IMPORTED_MODULE_4__scene_editor_SceneEditor_vue___default.a,\n    SceneRunning: __WEBPACK_IMPORTED_MODULE_5__SceneRunning_vue___default.a\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(49)))\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__modules_constant_js__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__store_scene_codec_js__ = __webpack_require__(52);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: \"scene-editor\",\n  data: function data() {\n    return {\n      vertices: [],\n      edges: [] };\n  },\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"a\" /* mapGetters */])(['fileName', 'editorGraph', 'sceneData'])),\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"b\" /* mapMutations */])({\n    saveScene: __WEBPACK_IMPORTED_MODULE_1__modules_constant_js__[\"a\" /* SAVE_SCENE */]\n  }), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"c\" /* mapActions */])({\n    initSceneEditor: __WEBPACK_IMPORTED_MODULE_1__modules_constant_js__[\"b\" /* INIT_SCENE_EDITOR */]\n  }), {\n    saveSceneData: function saveSceneData() {\n      this.saveScene({ fileName: this.fileName, sceneData: __WEBPACK_IMPORTED_MODULE_3__store_scene_codec_js__[\"a\" /* default */].encode(this.editorGraph.getModel()) });\n    },\n    deleteBody: function deleteBody() {\n      console.log('delete');\n    },\n    undo: function undo() {\n      console.log('undo');\n    },\n    redo: function redo() {\n      console.log('redo');\n    },\n    initToolBar: function initToolBar() {\n      var tbContainer = document.getElementById(\"gscene-editor-palette\");\n      var toolbar = new mxToolbar(tbContainer);\n      toolbar.enabled = false;\n      var vertex = new mxCell({ label: 'rectangle' }, new mxGeometry(0, 0, 80, 80), \"\");\n      vertex.type = 'rectangle';\n      vertex.setVertex(true);\n      var funct = function funct(graph, evt, cell) {\n        graph.stopEditing(false);\n\n        var pt = graph.getPointForEvent(evt);\n        var vertexClone = graph.getModel().cloneCell(vertex);\n        vertexClone.geometry.x = pt.x;\n        vertexClone.geometry.y = pt.y;\n\n        graph.setSelectionCells(graph.importCells([vertexClone], 0, 0, cell));\n      };\n\n      var img = toolbar.addMode(null, \"/static/mxgraph/src/images/rectangle.gif\", funct);\n      mxUtils.makeDraggable(img, this.editorGraph, funct);\n    }\n  }),\n  mounted: function mounted() {\n    this.initToolBar();\n    this.editorGraph.init($(\"#graph-container\")[0]);\n    this.editorGraph.view.refresh();\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(49)))\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(74);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__store__ = __webpack_require__(75);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_element_ui__ = __webpack_require__(76);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_element_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_element_ui_lib_theme_chalk_index_css__ = __webpack_require__(77);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_element_ui_lib_theme_chalk_index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_element_ui_lib_theme_chalk_index_css__);\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_4_element_ui___default.a);\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  store: __WEBPACK_IMPORTED_MODULE_3__store__[\"a\" /* store */],\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a },\n  strict: false\n});\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports) {\n\n\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 166:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports) {\n\nmodule.exports = {\"name\":\"scene-demo\",\"description\":\"This is a test scene file\",\"bodies\":[{\"type\":\"rectangle\",\"x\":0,\"y\":0,\"width\":80,\"height\":80,\"options\":{\"label\":\"rectangle1\",\"render\":{\"fillStyle\":\"blue\"}}},{\"type\":\"rectangle\",\"x\":150,\"y\":50,\"width\":80,\"height\":80,\"options\":{\"label\":\"rectangle2\"}},{\"type\":\"rectangle\",\"x\":250,\"y\":50,\"width\":80,\"height\":80,\"options\":{\"label\":\"rectangle3\",\"friction\":0,\"frictionStatic\":0,\"frictionAir\":0}},{\"type\":\"rectangle\",\"x\":0,\"y\":600,\"width\":810,\"height\":30,\"options\":{\"label\":\"ground\",\"isStatic\":true}}],\"gravity\":{\"scale\":0.01,\"x\":0,\"y\":1}}\n\n/***/ }),\n\n/***/ 178:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(165)\n\nvar Component = __webpack_require__(27)(\n  /* script */\n  __webpack_require__(103),\n  /* template */\n  __webpack_require__(181),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 179:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(167)\n\nvar Component = __webpack_require__(27)(\n  /* script */\n  __webpack_require__(104),\n  /* template */\n  __webpack_require__(183),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SAVE_SCENE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return INIT_SCENE_RUNNING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return SET_RUNNING_RENDER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return INIT_SCENE_EDITOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return SET_EDITOR_GRAPH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return SET_EDITOR_SELECTION_CELL; });\n\nvar SAVE_SCENE = 'sceneEditor/mutations/saveScene';\n\nvar INIT_SCENE_RUNNING = 'sceneEditor/actions/initScenceRunning';\nvar SET_RUNNING_RENDER = 'sceneEditor/mutations/setRunningRender';\n\nvar INIT_SCENE_EDITOR = 'sceneEditor/actions/initSceneEditor';\nvar SET_EDITOR_GRAPH = 'sceneEditor/mutations/setEditorGraph';\nvar SET_EDITOR_SELECTION_CELL = 'sceneEditor/mutations/setEditorSelectionCell';\n\n/***/ }),\n\n/***/ 180:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(166)\n\nvar Component = __webpack_require__(27)(\n  /* script */\n  __webpack_require__(105),\n  /* template */\n  __webpack_require__(182),\n  /* scopeId */\n  \"data-v-46c169f8\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 181:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"id\": \"scene-running\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"scene-running-toolbar\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"开始\",\n      \"icon\": \"el-icon-caret-right\"\n    },\n    on: {\n      \"click\": _vm.sceneStart\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"暂停\",\n      \"icon\": \"el-icon-circle-close\"\n    },\n    on: {\n      \"click\": _vm.scenePause\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"重置\",\n      \"icon\": \"el-icon-refresh\"\n    },\n    on: {\n      \"click\": _vm.sceneReset\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"scene-running-runningRender\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"operation\"\n    }\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.handleAdd\n    }\n  }, [_vm._v(\"add object\")]), _vm._v(\" \"), _c('span', [_vm._v(\"view x:\")]), _vm._v(\" \"), _c('el-slider', {\n    attrs: {\n      \"max\": 1920\n    },\n    model: {\n      value: (_vm.viewPort.max.x),\n      callback: function($$v) {\n        _vm.$set(_vm.viewPort.max, \"x\", $$v)\n      },\n      expression: \"viewPort.max.x\"\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"view y:\")]), _vm._v(\" \"), _c('el-slider', {\n    attrs: {\n      \"max\": 1080\n    },\n    model: {\n      value: (_vm.viewPort.max.y),\n      callback: function($$v) {\n        _vm.$set(_vm.viewPort.max, \"y\", $$v)\n      },\n      expression: \"viewPort.max.y\"\n    }\n  })], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 182:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"id\": \"scene-editor\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"scene-running-toolbar\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"保存\",\n      \"icon\": \"el-icon-document\"\n    },\n    on: {\n      \"click\": _vm.saveSceneData\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"删除\",\n      \"icon\": \"el-icon-delete\"\n    },\n    on: {\n      \"click\": _vm.deleteBody\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"撤销\",\n      \"icon\": \"el-icon-d-arrow-left\"\n    },\n    on: {\n      \"click\": _vm.undo\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"恢复\",\n      \"icon\": \"el-icon-d-arrow-right\"\n    },\n    on: {\n      \"click\": _vm.redo\n    }\n  })], 1), _vm._v(\" \"), _c('el-row', {\n    staticStyle: {\n      \"height\": \"100%\"\n    }\n  }, [_c('el-col', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"span\": 4\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"gscene-editor-palette\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"scene-editor-outline\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"property\"\n    }\n  })]), _vm._v(\" \"), _c('el-col', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"graph-container\"\n    }\n  })])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"vml-workbench\",\n    staticStyle: {\n      \"height\": \"100%:width:100%\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"menu\"\n    }\n  }, [_c('el-menu', {\n    attrs: {\n      \"mode\": \"horizontal\",\n      \"background-color\": \"#545c64\",\n      \"text-color\": \"#fff\",\n      \"active-text-color\": \"#ffd04b\"\n    },\n    on: {\n      \"select\": _vm.handleSelect\n    }\n  }, [_c('el-submenu', {\n    attrs: {\n      \"index\": \"scene\"\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_vm._v(\"场景\")]), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"createScene\"\n    }\n  }, [_vm._v(\"新建\")]), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"showScene\"\n    }\n  }, [_vm._v(\"查看\")]), _vm._v(\" \"), _c('el-submenu', {\n    attrs: {\n      \"index\": \"2\"\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_vm._v(\"打开\")]), _vm._v(\" \"), _vm._l((_vm.storageFileNames), function(item, index) {\n    return _c('el-menu-item', {\n      key: index,\n      attrs: {\n        \"index\": item\n      }\n    }, [_vm._v(_vm._s(item))])\n  }), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"importScene\"\n    }\n  }, [_c('span', {\n    staticClass: \"fileinput-button\"\n  }, [_c('span', [_vm._v(\"导入\")]), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"type\": \"file\",\n      \"id\": \"import-scene-input\"\n    },\n    on: {\n      \"change\": _vm.importScene\n    }\n  })])])], 2), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"saveScene\"\n    }\n  }, [_vm._v(\"保存\")])], 2), _vm._v(\" \"), _c('el-submenu', {\n    attrs: {\n      \"index\": \"edit\"\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"2-1\"\n    }\n  }, [_vm._v(\"仅编辑\")]), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"2-2\"\n    }\n  }, [_vm._v(\"编辑&运行\")]), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"2-3\"\n    }\n  }, [_vm._v(\"运行\")])], 2), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"about\"\n    }\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"#\",\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(\"关于\")])])], 1)], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"workbench-toolbar\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"编辑\",\n      \"icon\": \"el-icon-setting\"\n    },\n    on: {\n      \"click\": _vm.sceneEdit\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"编辑&运行\",\n      \"icon\": \"el-icon-menu\"\n    },\n    on: {\n      \"click\": _vm.sceneHalf\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"运行\",\n      \"icon\": \"el-icon-d-arrow-right\"\n    },\n    on: {\n      \"click\": _vm.sceneRunning\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"main-workbench\"\n    }\n  }, [_c('el-row', {\n    staticStyle: {\n      \"height\": \"100%\"\n    }\n  }, [_c('el-col', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"span\": _vm.sceneEditorSpan\n    }\n  }, [_c('SceneEditor')], 1), _vm._v(\" \"), _c('el-col', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"span\": _vm.sceneRunningSpan\n    }\n  }, [_c('SceneRunning')], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 184:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar SceneCodec = {\n  decode: function decode(jsonData, model) {\n    for (var i in jsonData) {\n      if (!(jsonData[i] instanceof Object)) {\n        model[i] = jsonData[i];\n      }\n    }\n\n    var parentCell = model.root.children[0];\n    for (var _i in jsonData.bodies) {\n      var mxCell = new window.mxCell();\n      mxCell.vertex = true;\n      mxCell.style = 'round=1';\n      var _jsonData$bodies$_i = jsonData.bodies[_i],\n          x = _jsonData$bodies$_i.x,\n          y = _jsonData$bodies$_i.y,\n          width = _jsonData$bodies$_i.width,\n          height = _jsonData$bodies$_i.height,\n          type = _jsonData$bodies$_i.type,\n          options = _jsonData$bodies$_i.options;\n\n      mxCell.geometry = new window.mxGeometry(x, y, width, height);\n      mxCell.name = options.label;\n      mxCell.type = type;\n      mxCell.value = options;\n      parentCell.insert(mxCell);\n    }\n    model.setRoot(model.root);\n  },\n  encode: function encode(model) {\n    var jsonData = { name: '', description: '', bodies: [] };\n\n    var newModel = new window.mxGraphModel();\n    for (var i in model) {\n      if (!(model[i] instanceof Object) && model[i] != newModel[i] && i != 'nextId') {\n        jsonData[i] = model[i];\n      }\n    }\n    for (var _i2 in model.root.children[0].children) {\n      var mxCell = model.root.children[0].children[_i2];\n      var geometry = mxCell.geometry,\n          value = mxCell.value,\n          type = mxCell.type;\n      var x = geometry.x,\n          y = geometry.y,\n          width = geometry.width,\n          height = geometry.height;\n\n      var body = { x: x, y: y, width: width, height: height };\n      body.options = value;\n      body.type = type;\n      jsonData.bodies.push(body);\n    }\n    return jsonData;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (SceneCodec);\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__views_VmlWorkbench_vue__ = __webpack_require__(179);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__views_VmlWorkbench_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__views_VmlWorkbench_vue__);\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    component: __WEBPACK_IMPORTED_MODULE_2__views_VmlWorkbench_vue___default.a\n  }]\n}));\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return store; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__ = __webpack_require__(113);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__modules_constant_js__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_matter_js__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_matter_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_matter_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__store_default_scene__ = __webpack_require__(169);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__store_default_scene___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__store_default_scene__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__matter_decodec__ = __webpack_require__(107);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__matter_decodec___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__matter_decodec__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__scene_codec__ = __webpack_require__(52);\n\n\nvar _mutations, _actions;\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"d\" /* default */]);\nvar store = new __WEBPACK_IMPORTED_MODULE_2_vuex__[\"d\" /* default */].Store({\n  state: function state() {\n    return {\n      fileName: 'default.scene',\n      sceneData: __WEBPACK_IMPORTED_MODULE_5__store_default_scene___default.a,\n\n      editorGraph: null,\n      editorSelectionCell: null,\n\n      runningRender: null\n    };\n  },\n  getters: {\n    fileName: function fileName(state) {\n      return state.fileName;\n    },\n    editorGraph: function editorGraph(state) {\n      return state.editorGraph;\n    },\n    sceneData: function sceneData(state) {\n      return state.sceneData;\n    },\n    runningRender: function runningRender(state) {\n      return state.runningRender;\n    },\n    engine: function engine(state) {\n      return state.runningRender.engine;\n    },\n    world: function world(state) {\n      return state.runningRender.engine.world;\n    }\n  },\n  mutations: (_mutations = {}, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_mutations, __WEBPACK_IMPORTED_MODULE_3__modules_constant_js__[\"d\" /* SET_RUNNING_RENDER */], function (state, runningRender) {\n    state.runningRender = runningRender;\n  }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_mutations, __WEBPACK_IMPORTED_MODULE_3__modules_constant_js__[\"e\" /* SET_EDITOR_GRAPH */], function (state, graph) {\n    state.editorGraph = graph;\n  }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_mutations, __WEBPACK_IMPORTED_MODULE_3__modules_constant_js__[\"f\" /* SET_EDITOR_SELECTION_CELL */], function (state, cell) {\n    state.editorSelectionCell = cell;\n  }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_mutations, __WEBPACK_IMPORTED_MODULE_3__modules_constant_js__[\"a\" /* SAVE_SCENE */], function (state, _ref) {\n    var fileName = _ref.fileName,\n        sceneData = _ref.sceneData;\n\n    state.fileName = fileName;\n    state.sceneData = sceneData;\n  }), _mutations),\n  actions: (_actions = {}, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_actions, __WEBPACK_IMPORTED_MODULE_3__modules_constant_js__[\"c\" /* INIT_SCENE_RUNNING */], function (context) {\n    var engine = __WEBPACK_IMPORTED_MODULE_4_matter_js__[\"Engine\"].create();\n    var runningRender = __WEBPACK_IMPORTED_MODULE_4_matter_js__[\"Render\"].create({\n      engine: engine,\n      options: {\n        pixelRatio: 1,\n        background: 'gray',\n        wireframeBackground: 'blue',\n        hasBounds: false,\n        enabled: true,\n        wireframes: false,\n        showSleeping: true,\n        showDebug: false,\n        showBroadphase: false,\n        showBounds: false,\n        showVelocity: false,\n        showCollisions: false,\n        showSeparations: false,\n        showAxes: false,\n        showPositions: false,\n        showAngleIndicator: false,\n        showIds: true,\n        showShadows: false,\n        showVertexNumbers: false,\n        showConvexHulls: false,\n        showInternalEdges: false,\n        showMousePosition: false\n      }\n    });\n    context.commit(__WEBPACK_IMPORTED_MODULE_3__modules_constant_js__[\"d\" /* SET_RUNNING_RENDER */], runningRender);\n    var sceneData = context.getters.sceneData;\n    for (var i = 0; i < sceneData.bodies.length; i++) {\n      var bodyData = sceneData.bodies[i];\n      var bodyObject = null;\n      switch (bodyData.type) {\n        case 'rectangle':\n          bodyObject = __WEBPACK_IMPORTED_MODULE_4_matter_js__[\"Bodies\"].rectangle(bodyData.x, bodyData.y, bodyData.width, bodyData.height, bodyData.options);\n          break;\n        default:\n          console.error('unknown body type' + bodyData.type);\n      }\n      if (bodyObject) {\n        __WEBPACK_IMPORTED_MODULE_4_matter_js__[\"World\"].addBody(engine.world, bodyObject);\n      }\n    }\n\n    __WEBPACK_IMPORTED_MODULE_4_matter_js__[\"Events\"].on(__WEBPACK_IMPORTED_MODULE_4_matter_js__[\"MouseConstraint\"].create(engine), 'mousedown', function (event) {\n      var mousePosition = event.mouse.mousedownPosition;\n      var bodies = __WEBPACK_IMPORTED_MODULE_4_matter_js__[\"Composite\"].allBodies(engine.world);\n      for (var _i = 0; _i < bodies.length; _i++) {\n        var body = bodies[_i];\n        if (__WEBPACK_IMPORTED_MODULE_4_matter_js__[\"Bounds\"].contains(body.bounds, mousePosition) && __WEBPACK_IMPORTED_MODULE_4_matter_js__[\"Vertices\"].contains(body.vertices, mousePosition)) {\n          console.log(body);\n        }\n      }\n    });\n  }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_actions, __WEBPACK_IMPORTED_MODULE_3__modules_constant_js__[\"b\" /* INIT_SCENE_EDITOR */], function (context) {\n    var graph = new mxGraph();\n    context.commit(__WEBPACK_IMPORTED_MODULE_3__modules_constant_js__[\"e\" /* SET_EDITOR_GRAPH */], graph);\n    __WEBPACK_IMPORTED_MODULE_7__scene_codec__[\"a\" /* default */].decode(context.getters.sceneData, graph.getModel());\n    graph.getSelectionModel().addListener(mxEvent.CHANGE, function (sender, evt) {\n      var cell = graph.getSelectionCell();\n      context.commit(__WEBPACK_IMPORTED_MODULE_3__modules_constant_js__[\"f\" /* SET_EDITOR_SELECTION_CELL */], cell);\n    });\n    graph.convertValueToString = function (cell) {\n      return cell.value.label;\n    };\n    graph.valueForCellChanged = function (cell, newValue) {\n      cell.value.label = newValue;\n    };\n    console.log('model', graph.model);\n  }), _actions)\n});\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(168)\n\nvar Component = __webpack_require__(27)(\n  /* script */\n  __webpack_require__(102),\n  /* template */\n  __webpack_require__(184),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ })\n\n},[106]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.a87d69a51ff2ef2da407.js","<template>\r\n  <div id=\"app\">\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'app'\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n#app {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  color: #2c3e50;\r\n  height:100%\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?43c576a4","<template>\r\n  <div id='scene-running'\r\n       style=\"height:100%\">\r\n    <div id='scene-running-toolbar'>\r\n      <el-button type=\"primary\"\r\n                 title=\"开始\"\r\n                 @click='sceneStart'\r\n                 icon=\"el-icon-caret-right\"></el-button>\r\n      <el-button type=\"primary\"\r\n                 title='暂停'\r\n                 @click='scenePause'\r\n                 icon=\"el-icon-circle-close\"></el-button>\r\n      <el-button type=\"primary\"\r\n                 title='重置'\r\n                 @click='sceneReset'\r\n                 icon=\"el-icon-refresh\"></el-button>\r\n    </div>\r\n    <div id='scene-running-runningRender'></div>\r\n    <div id='operation'>\r\n      <el-button @click='handleAdd'>add object</el-button>\r\n      <span>view x:</span>\r\n      <el-slider v-model=\"viewPort.max.x\"\r\n                 :max='1920'></el-slider>\r\n      <span>view y:</span>\r\n      <el-slider v-model=\"viewPort.max.y\"\r\n                 :max='1080'></el-slider>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as types from '@/modules-constant.js'\r\nimport { Render, Engine, Runner, Common } from 'matter-js'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nexport default {\r\n  name: 'scene-running',\r\n  data: function () {\r\n    return {\r\n      renderDom: undefined,\r\n      runner: Runner.create(),\r\n      viewPort: {\r\n        min: { x: 0, y: 0 },\r\n        max: { x: 800, y: 600 }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'runningRender',\r\n      'engine',\r\n    ])\r\n  },\r\n  watch: {\r\n    viewPort: {\r\n      handler: function () {\r\n        Render.lookAt(this.runningRender, this.viewPort);\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      initSceneRunning: types.INIT_SCENE_RUNNING\r\n    }),\r\n    sceneStart: function () {\r\n      Runner.start(this.runner, this.engine);\r\n    },\r\n    scenePause: function () {\r\n      Runner.stop(this.runner);\r\n    },\r\n    sceneReset: function () {\r\n      // 回收全局常量\r\n      Common._nextId = 0;\r\n      Common._seed = 0;\r\n      Render.stop(this.runningRender);\r\n      Runner.stop(this.runner);\r\n      this.runningRender.canvas.parentElement.removeChild(this.runningRender.canvas)\r\n      this.initSceneRunning();\r\n      this.renderScene();\r\n    },\r\n    renderScene: function () {\r\n      // 设置matter尺寸。\r\n      this.renderDom.appendChild(this.runningRender.canvas);\r\n      Render.lookAt(this.runningRender, this.viewPort);\r\n      // 在渲染之后调整大小\r\n      this.runningRender.canvas.width = this.renderDom.clientWidth;\r\n      this.runningRender.canvas.height = this.renderDom.clientHeight;\r\n      Render.run(this.runningRender);\r\n    },\r\n    handleAdd: function () {\r\n    }\r\n  },\r\n  mounted () {\r\n    this.renderDom = $('#scene-running-runningRender')[0]\r\n    this.initSceneRunning();\r\n    this.renderScene();\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// SceneRunning.vue?85234598","<template>\r\n  <div class=\"vml-workbench\"\r\n       style=\"height:100%:width:100%\">\r\n    <div id='menu'>\r\n      <el-menu mode=\"horizontal\"\r\n               @select=\"handleSelect\"\r\n               background-color=\"#545c64\"\r\n               text-color=\"#fff\"\r\n               active-text-color=\"#ffd04b\">\r\n        <el-submenu index=\"scene\">\r\n          <template slot=\"title\">场景</template>\r\n          <el-menu-item index=\"createScene\">新建</el-menu-item>\r\n          <el-menu-item index=\"showScene\">查看</el-menu-item>\r\n          <el-submenu index=\"2\">\r\n            <template slot=\"title\">打开</template>\r\n            <el-menu-item :index=\"item\"\r\n                          v-for=\"(item, index) in storageFileNames\"\r\n                          :key='index'>{{item}}</el-menu-item>\r\n            <el-menu-item index=\"importScene\">\r\n              <span class=\"fileinput-button\">\r\n                <span>导入</span>\r\n                <input type=\"file\"\r\n                       id=\"import-scene-input\"\r\n                       @change=\"importScene\" />\r\n              </span>\r\n            </el-menu-item>\r\n          </el-submenu>\r\n          <el-menu-item index=\"saveScene\">保存</el-menu-item>\r\n        </el-submenu>\r\n        <el-submenu index=\"edit\">\r\n          <template slot=\"title\">编辑</template>\r\n          <el-menu-item index=\"2-1\">仅编辑</el-menu-item>\r\n          <el-menu-item index=\"2-2\">编辑&运行</el-menu-item>\r\n          <el-menu-item index=\"2-3\">运行</el-menu-item>\r\n        </el-submenu>\r\n        <el-menu-item index=\"about\">\r\n          <a href=\"#\"\r\n             target=\"_blank\">关于</a>\r\n        </el-menu-item>\r\n      </el-menu>\r\n    </div>\r\n    <div id='workbench-toolbar'>\r\n      <el-button type=\"primary\"\r\n                 title=\"编辑\"\r\n                 @click='sceneEdit'\r\n                 icon=\"el-icon-setting\"></el-button>\r\n      <el-button type=\"primary\"\r\n                 title='编辑&运行'\r\n                 @click='sceneHalf'\r\n                 icon=\"el-icon-menu\"></el-button>\r\n      <el-button type=\"primary\"\r\n                 title='运行'\r\n                 @click='sceneRunning'\r\n                 icon=\"el-icon-d-arrow-right\"></el-button>\r\n    </div>\r\n    <div id='main-workbench'>\r\n      <el-row style=\"height:100%\">\r\n        <el-col style=\"height:100%\"\r\n                :span=\"sceneEditorSpan\">\r\n          <SceneEditor></SceneEditor>\r\n        </el-col>\r\n        <el-col style=\"height:100%\"\r\n                :span=\"sceneRunningSpan\">\r\n          <SceneRunning></SceneRunning>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as types from '@/modules-constant.js'\r\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\r\nimport SceneEditor from './scene-editor/SceneEditor.vue'\r\nimport SceneRunning from './SceneRunning.vue'\r\nexport default {\r\n  name: 'vml-workbench',\r\n  data: function () {\r\n    return {\r\n      storage: window.localStorage,\r\n      sceneEditorSpan: 12,\r\n      sceneRunningSpan: 12,\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'fileName',\r\n      'sceneData'\r\n    ]),\r\n    storageFileNames: function () {\r\n      let storageFileNames = [];\r\n      for (let i = 0; i < this.storage.length; i++) {\r\n        storageFileNames.push(this.storage.key(i))\r\n      }\r\n      return storageFileNames;\r\n    }\r\n  },\r\n  watch: {\r\n    storageFileNames: function () { }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      saveScene: types.SAVE_SCENE\r\n    }),\r\n    ...mapActions({\r\n      initSceneEditor: types.INIT_SCENE_EDITOR,\r\n      initSceneRunning: types.INIT_SCENE_RUNNING\r\n    }),\r\n    handleSelect (key) {\r\n      switch (key) {\r\n        case 'createScene':\r\n          this.saveScene({ fileName: key, sceneData: this.storage.getItem(key) })\r\n          break;\r\n        case 'showScene':\r\n          console.log(JSON.stringify(this.sceneData))\r\n          break;\r\n        case 'importScene':\r\n          // do nothing.  handle by input event\r\n          break;\r\n        case 'saveScene':\r\n          this.storage.setItem(this.fileName, JSON.stringify(this.sceneData, null, 2));\r\n          break;\r\n        default:\r\n          console.error('unknown menu key:' + key)\r\n      }\r\n    },\r\n    importScene: function () {\r\n      let file = $(\"#import-scene-input\")[0].files[0];\r\n      let reader = new FileReader();\r\n      //将文件以文本形式读入页面\r\n      reader.readAsText(file);\r\n      let self = this;\r\n      reader.onload = function () {\r\n        console.log(file.name)\r\n        console.log(this.result)\r\n        self.saveScene({ fileName: file.name, sceneData: JSON.parse(this.result) })\r\n      }\r\n    },\r\n\r\n    sceneEdit: function () {\r\n      this.sceneEditorSpan = 24;\r\n      this.sceneRunningSpan = 0;\r\n    },\r\n    sceneHalf: function () {\r\n      this.sceneEditorSpan = 12;\r\n      this.sceneRunningSpan = 12;\r\n    },\r\n    sceneRunning: function () {\r\n      this.sceneEditorSpan = 0;\r\n      this.sceneRunningSpan = 24\r\n    }\r\n  },\r\n  beforeMount: function () {\r\n    this.initSceneEditor();\r\n    this.initSceneRunning();\r\n  },\r\n  components: {\r\n    SceneEditor,\r\n    SceneRunning\r\n  }\r\n}\r\n</script>\r\n<style>\r\n#main-workbench {\r\n  position: absolute;\r\n  top: 60px;\r\n  bottom: 0px;\r\n  width: 100%;\r\n}\r\n#workbench-toolbar {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n}\r\n.fileinput-button {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.fileinput-button input {\r\n  position: absolute;\r\n  right: 0px;\r\n  top: 0px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// VmlWorkbench.vue?b3d39988","<template>\r\n  <div id=\"scene-editor\"\r\n       style=\"height:100%\">\r\n    <div id='scene-running-toolbar'>\r\n      <el-button type=\"primary\"\r\n                 title=\"保存\"\r\n                 @click='saveSceneData'\r\n                 icon=\"el-icon-document\"></el-button>\r\n      <el-button type=\"primary\"\r\n                 title='删除'\r\n                 @click='deleteBody'\r\n                 icon=\"el-icon-delete\"></el-button>\r\n      <el-button type=\"primary\"\r\n                 title='撤销'\r\n                 @click='undo'\r\n                 icon=\"el-icon-d-arrow-left\"></el-button>\r\n      <el-button type=\"primary\"\r\n                 title='恢复'\r\n                 @click='redo'\r\n                 icon=\"el-icon-d-arrow-right\"></el-button>\r\n    </div>\r\n    <el-row style=\"height:100%\">\r\n      <el-col style=\"height:100%\"\r\n              :span=\"4\">\r\n        <div id=\"gscene-editor-palette\"></div>\r\n        <div id='scene-editor-outline'></div>\r\n        <div id=\"property\"></div>\r\n      </el-col>\r\n      <el-col style=\"height:100%\"\r\n              :span=\"20\">\r\n        <div id=\"graph-container\"></div>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as types from '@/modules-constant.js'\r\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\r\nimport sceneCodec from '@/store/scene-codec.js'\r\nexport default {\r\n  name: \"scene-editor\",\r\n  data: function () {\r\n    return {\r\n      vertices: [], //图源数组\r\n      edges: [] //线数组\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['fileName', 'editorGraph', 'sceneData'])\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      saveScene: types.SAVE_SCENE\r\n    }),\r\n    ...mapActions({\r\n      initSceneEditor: types.INIT_SCENE_EDITOR\r\n    }),\r\n    saveSceneData: function () {\r\n      this.saveScene({ fileName: this.fileName, sceneData: sceneCodec.encode(this.editorGraph.getModel()) })\r\n    },\r\n    deleteBody: function () {\r\n      console.log('delete')\r\n    },\r\n    undo: function () {\r\n      console.log('undo')\r\n    },\r\n    redo: function () {\r\n      console.log('redo')\r\n    },\r\n    initToolBar: function () {\r\n      let tbContainer = document.getElementById(\"gscene-editor-palette\");\r\n      let toolbar = new mxToolbar(tbContainer);\r\n      toolbar.enabled = false;\r\n      let vertex = new mxCell({ label: 'rectangle' }, new mxGeometry(0, 0, 80, 80), \"\");\r\n      vertex.type = 'rectangle'\r\n      vertex.setVertex(true);\r\n      let funct = (graph, evt, cell) => {\r\n        graph.stopEditing(false);\r\n\r\n        let pt = graph.getPointForEvent(evt);\r\n        let vertexClone = graph.getModel().cloneCell(vertex);\r\n        vertexClone.geometry.x = pt.x;\r\n        vertexClone.geometry.y = pt.y;\r\n\r\n        graph.setSelectionCells(graph.importCells([vertexClone], 0, 0, cell)); // 第二个第三个数字 是拖动创建结束时 相对鼠标的偏移位置\r\n      };\r\n\r\n      // Creates the image which is used as the drag icon (preview)\r\n      let img = toolbar.addMode(\r\n        null,\r\n        \"/static/mxgraph/src/images/rectangle.gif\",\r\n        funct\r\n      );\r\n      mxUtils.makeDraggable(img, this.editorGraph, funct);\r\n    }\r\n  },\r\n  mounted () {\r\n    this.initToolBar();\r\n    this.editorGraph.init($(\"#graph-container\")[0]) // 数据与渲染分离\r\n    this.editorGraph.view.refresh();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#graph-container {\r\n  position: relative;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: default;\r\n  background: url('/static/mxgraph/src/images/grid.gif');\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// SceneEditor.vue?fd3af9d2","import Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport { store } from './store'\r\nimport ElementUI from 'element-ui'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\n/* eslint-disable no-unused-vars */\r\nVue.config.productionTip = false\r\nVue.use(ElementUI)\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  store: store,\r\n  router: router,\r\n  template: '<App/>',\r\n  components: { App },\r\n  strict: false\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\"name\":\"scene-demo\",\"description\":\"This is a test scene file\",\"bodies\":[{\"type\":\"rectangle\",\"x\":0,\"y\":0,\"width\":80,\"height\":80,\"options\":{\"label\":\"rectangle1\",\"render\":{\"fillStyle\":\"blue\"}}},{\"type\":\"rectangle\",\"x\":150,\"y\":50,\"width\":80,\"height\":80,\"options\":{\"label\":\"rectangle2\"}},{\"type\":\"rectangle\",\"x\":250,\"y\":50,\"width\":80,\"height\":80,\"options\":{\"label\":\"rectangle3\",\"friction\":0,\"frictionStatic\":0,\"frictionAir\":0}},{\"type\":\"rectangle\",\"x\":0,\"y\":600,\"width\":810,\"height\":30,\"options\":{\"label\":\"ground\",\"isStatic\":true}}],\"gravity\":{\"scale\":0.01,\"x\":0,\"y\":1}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/store/default.scene\n// module id = 169\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-2d31d9f3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./SceneRunning.vue\")\n\nvar Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./SceneRunning.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d31d9f3\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./SceneRunning.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/SceneRunning.vue\n// module id = 178\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-63d5d8ec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./VmlWorkbench.vue\")\n\nvar Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./VmlWorkbench.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-63d5d8ec\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./VmlWorkbench.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/VmlWorkbench.vue\n// module id = 179\n// module chunks = 1","// file operation\r\nexport const SAVE_SCENE = 'sceneEditor/mutations/saveScene';\r\n// scene running operation\r\nexport const INIT_SCENE_RUNNING = 'sceneEditor/actions/initScenceRunning';\r\nexport const SET_RUNNING_RENDER = 'sceneEditor/mutations/setRunningRender';\r\n// scene editor operation\r\nexport const INIT_SCENE_EDITOR = 'sceneEditor/actions/initSceneEditor';\r\nexport const SET_EDITOR_GRAPH = 'sceneEditor/mutations/setEditorGraph';\r\nexport const SET_EDITOR_SELECTION_CELL = 'sceneEditor/mutations/setEditorSelectionCell';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules-constant.js","\n/* styles */\nrequire(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-46c169f8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./SceneEditor.vue\")\n\nvar Component = require(\"!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./SceneEditor.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46c169f8\\\"}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./SceneEditor.vue\"),\n  /* scopeId */\n  \"data-v-46c169f8\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/scene-editor/SceneEditor.vue\n// module id = 180\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"id\": \"scene-running\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"scene-running-toolbar\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"开始\",\n      \"icon\": \"el-icon-caret-right\"\n    },\n    on: {\n      \"click\": _vm.sceneStart\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"暂停\",\n      \"icon\": \"el-icon-circle-close\"\n    },\n    on: {\n      \"click\": _vm.scenePause\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"重置\",\n      \"icon\": \"el-icon-refresh\"\n    },\n    on: {\n      \"click\": _vm.sceneReset\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"scene-running-runningRender\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"operation\"\n    }\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.handleAdd\n    }\n  }, [_vm._v(\"add object\")]), _vm._v(\" \"), _c('span', [_vm._v(\"view x:\")]), _vm._v(\" \"), _c('el-slider', {\n    attrs: {\n      \"max\": 1920\n    },\n    model: {\n      value: (_vm.viewPort.max.x),\n      callback: function($$v) {\n        _vm.$set(_vm.viewPort.max, \"x\", $$v)\n      },\n      expression: \"viewPort.max.x\"\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"view y:\")]), _vm._v(\" \"), _c('el-slider', {\n    attrs: {\n      \"max\": 1080\n    },\n    model: {\n      value: (_vm.viewPort.max.y),\n      callback: function($$v) {\n        _vm.$set(_vm.viewPort.max, \"y\", $$v)\n      },\n      expression: \"viewPort.max.y\"\n    }\n  })], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-2d31d9f3\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/SceneRunning.vue\n// module id = 181\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"id\": \"scene-editor\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"scene-running-toolbar\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"保存\",\n      \"icon\": \"el-icon-document\"\n    },\n    on: {\n      \"click\": _vm.saveSceneData\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"删除\",\n      \"icon\": \"el-icon-delete\"\n    },\n    on: {\n      \"click\": _vm.deleteBody\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"撤销\",\n      \"icon\": \"el-icon-d-arrow-left\"\n    },\n    on: {\n      \"click\": _vm.undo\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"恢复\",\n      \"icon\": \"el-icon-d-arrow-right\"\n    },\n    on: {\n      \"click\": _vm.redo\n    }\n  })], 1), _vm._v(\" \"), _c('el-row', {\n    staticStyle: {\n      \"height\": \"100%\"\n    }\n  }, [_c('el-col', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"span\": 4\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"gscene-editor-palette\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"scene-editor-outline\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"property\"\n    }\n  })]), _vm._v(\" \"), _c('el-col', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"graph-container\"\n    }\n  })])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-46c169f8\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/scene-editor/SceneEditor.vue\n// module id = 182\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"vml-workbench\",\n    staticStyle: {\n      \"height\": \"100%:width:100%\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"menu\"\n    }\n  }, [_c('el-menu', {\n    attrs: {\n      \"mode\": \"horizontal\",\n      \"background-color\": \"#545c64\",\n      \"text-color\": \"#fff\",\n      \"active-text-color\": \"#ffd04b\"\n    },\n    on: {\n      \"select\": _vm.handleSelect\n    }\n  }, [_c('el-submenu', {\n    attrs: {\n      \"index\": \"scene\"\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_vm._v(\"场景\")]), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"createScene\"\n    }\n  }, [_vm._v(\"新建\")]), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"showScene\"\n    }\n  }, [_vm._v(\"查看\")]), _vm._v(\" \"), _c('el-submenu', {\n    attrs: {\n      \"index\": \"2\"\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_vm._v(\"打开\")]), _vm._v(\" \"), _vm._l((_vm.storageFileNames), function(item, index) {\n    return _c('el-menu-item', {\n      key: index,\n      attrs: {\n        \"index\": item\n      }\n    }, [_vm._v(_vm._s(item))])\n  }), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"importScene\"\n    }\n  }, [_c('span', {\n    staticClass: \"fileinput-button\"\n  }, [_c('span', [_vm._v(\"导入\")]), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"type\": \"file\",\n      \"id\": \"import-scene-input\"\n    },\n    on: {\n      \"change\": _vm.importScene\n    }\n  })])])], 2), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"saveScene\"\n    }\n  }, [_vm._v(\"保存\")])], 2), _vm._v(\" \"), _c('el-submenu', {\n    attrs: {\n      \"index\": \"edit\"\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"2-1\"\n    }\n  }, [_vm._v(\"仅编辑\")]), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"2-2\"\n    }\n  }, [_vm._v(\"编辑&运行\")]), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"2-3\"\n    }\n  }, [_vm._v(\"运行\")])], 2), _vm._v(\" \"), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"about\"\n    }\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"#\",\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(\"关于\")])])], 1)], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"workbench-toolbar\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"编辑\",\n      \"icon\": \"el-icon-setting\"\n    },\n    on: {\n      \"click\": _vm.sceneEdit\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"编辑&运行\",\n      \"icon\": \"el-icon-menu\"\n    },\n    on: {\n      \"click\": _vm.sceneHalf\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"title\": \"运行\",\n      \"icon\": \"el-icon-d-arrow-right\"\n    },\n    on: {\n      \"click\": _vm.sceneRunning\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"main-workbench\"\n    }\n  }, [_c('el-row', {\n    staticStyle: {\n      \"height\": \"100%\"\n    }\n  }, [_c('el-col', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"span\": _vm.sceneEditorSpan\n    }\n  }, [_c('SceneEditor')], 1), _vm._v(\" \"), _c('el-col', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"span\": _vm.sceneRunningSpan\n    }\n  }, [_c('SceneRunning')], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-63d5d8ec\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/VmlWorkbench.vue\n// module id = 183\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-c587c15c\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 184\n// module chunks = 1","let SceneCodec = {\r\n  decode(jsonData, model) {\r\n    // 1.0 将全局信息设置到model\r\n    for (let i in jsonData) {\r\n      if (!(jsonData[i] instanceof Object)) {\r\n        model[i] = jsonData[i];\r\n      }\r\n    }\r\n    // 2.0 将物体设置为mxCell\r\n    let parentCell = model.root.children[0];\r\n    for (let i in jsonData.bodies) {\r\n      let mxCell = new window.mxCell();\r\n      mxCell.vertex = true;\r\n      mxCell.style = 'round=1';\r\n      let { x, y, width, height, type, options } = jsonData.bodies[i];\r\n      mxCell.geometry = new window.mxGeometry(x, y, width, height);\r\n      mxCell.name = options.label;\r\n      mxCell.type = type;\r\n      mxCell.value = options;\r\n      parentCell.insert(mxCell);\r\n    }\r\n    model.setRoot(model.root);\r\n  },\r\n  encode(model) {\r\n    let jsonData = { name: '', description: '', bodies: [] };\r\n    // 获取全局属性\r\n    let newModel = new window.mxGraphModel();\r\n    for (let i in model) {\r\n      if (!(model[i] instanceof Object) && model[i] != newModel[i] && i != 'nextId') {\r\n        jsonData[i] = model[i];\r\n      }\r\n    }\r\n    for (let i in model.root.children[0].children) {\r\n      let mxCell = model.root.children[0].children[i];\r\n      let { geometry, value, type } = mxCell;\r\n      let { x, y, width, height } = geometry;\r\n      let body = { x, y, width, height };\r\n      body.options = value;\r\n      body.type = type;\r\n      jsonData.bodies.push(body);\r\n    }\r\n    return jsonData;\r\n  }\r\n};\r\nexport default SceneCodec;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/scene-codec.js","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport VmlWorkbench from '@/views/VmlWorkbench.vue'\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      component: VmlWorkbench\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport * as types from '@/modules-constant.js';\r\nimport { Engine, Render, World, Bodies, Events, MouseConstraint, Composite, Bounds, Vertices } from 'matter-js';\r\nimport defaultScene from '@/store/default.scene';\r\nimport matterDeCodec from './matter-decodec';\r\nimport sceneCodec from './scene-codec';\r\nVue.use(Vuex);\r\nexport const store = new Vuex.Store({\r\n  state: function() {\r\n    return {\r\n      // file data\r\n      fileName: 'default.scene',\r\n      sceneData: defaultScene,\r\n      // editor data\r\n      editorGraph: null,\r\n      editorSelectionCell: null,\r\n      // running data\r\n      runningRender: null\r\n    };\r\n  },\r\n  getters: {\r\n    fileName: state => {\r\n      return state.fileName;\r\n    },\r\n    editorGraph: state => {\r\n      return state.editorGraph;\r\n    },\r\n    sceneData: state => {\r\n      return state.sceneData;\r\n    },\r\n    runningRender: state => {\r\n      return state.runningRender;\r\n    },\r\n    engine: state => {\r\n      return state.runningRender.engine;\r\n    },\r\n    world: state => {\r\n      return state.runningRender.engine.world;\r\n    }\r\n  },\r\n  mutations: {\r\n    [types.SET_RUNNING_RENDER]: (state, runningRender) => {\r\n      state.runningRender = runningRender;\r\n    },\r\n    [types.SET_EDITOR_GRAPH]: (state, graph) => {\r\n      state.editorGraph = graph;\r\n    },\r\n    [types.SET_EDITOR_SELECTION_CELL]: (state, cell) => {\r\n      state.editorSelectionCell = cell;\r\n    },\r\n    [types.SAVE_SCENE]: (state, { fileName, sceneData }) => {\r\n      state.fileName = fileName;\r\n      state.sceneData = sceneData;\r\n    }\r\n  },\r\n  actions: {\r\n    [types.INIT_SCENE_RUNNING]: context => {\r\n      let engine = Engine.create();\r\n      let runningRender = Render.create({\r\n        engine: engine,\r\n        options: {\r\n          pixelRatio: 1,\r\n          background: 'gray',\r\n          wireframeBackground: 'blue',\r\n          hasBounds: false,\r\n          enabled: true,\r\n          wireframes: false, //线框展示\r\n          showSleeping: true,\r\n          showDebug: false,\r\n          showBroadphase: false,\r\n          showBounds: false,\r\n          showVelocity: false,\r\n          showCollisions: false,\r\n          showSeparations: false,\r\n          showAxes: false,\r\n          showPositions: false,\r\n          showAngleIndicator: false,\r\n          showIds: true,\r\n          showShadows: false,\r\n          showVertexNumbers: false,\r\n          showConvexHulls: false,\r\n          showInternalEdges: false,\r\n          showMousePosition: false\r\n        }\r\n      });\r\n      context.commit(types.SET_RUNNING_RENDER, runningRender);\r\n      let sceneData = context.getters.sceneData;\r\n      for (let i = 0; i < sceneData.bodies.length; i++) {\r\n        let bodyData = sceneData.bodies[i];\r\n        let bodyObject = null;\r\n        switch (bodyData.type) {\r\n          case 'rectangle':\r\n            bodyObject = Bodies.rectangle(bodyData.x, bodyData.y, bodyData.width, bodyData.height, bodyData.options);\r\n            break;\r\n          default:\r\n            console.error('unknown body type' + bodyData.type);\r\n        }\r\n        if (bodyObject) {\r\n          World.addBody(engine.world, bodyObject);\r\n        }\r\n      }\r\n      //选中事件绑定\r\n      Events.on(MouseConstraint.create(engine), 'mousedown', event => {\r\n        let mousePosition = event.mouse.mousedownPosition;\r\n        let bodies = Composite.allBodies(engine.world);\r\n        for (let i = 0; i < bodies.length; i++) {\r\n          let body = bodies[i];\r\n          if (Bounds.contains(body.bounds, mousePosition) && Vertices.contains(body.vertices, mousePosition)) {\r\n            console.log(body);\r\n          }\r\n        }\r\n      });\r\n      // console.log('world', engine.world);\r\n      // console.log('World', World);\r\n      // console.log('runningRender', runningRender);\r\n      // console.log('Render', Render);\r\n      // console.log('engine', engine);\r\n      // console.log('Engine', Engine);\r\n    },\r\n    [types.INIT_SCENE_EDITOR]: context => {\r\n      let graph = new mxGraph();\r\n      context.commit(types.SET_EDITOR_GRAPH, graph);\r\n      sceneCodec.decode(context.getters.sceneData, graph.getModel());\r\n      graph.getSelectionModel().addListener(mxEvent.CHANGE, (sender, evt) => {\r\n        let cell = graph.getSelectionCell();\r\n        context.commit(types.SET_EDITOR_SELECTION_CELL, cell);\r\n      });\r\n      graph.convertValueToString = function(cell) {\r\n        return cell.value.label;\r\n      };\r\n      graph.valueForCellChanged = function(cell, newValue) {\r\n        cell.value.label = newValue;\r\n      };\r\n      console.log('model', graph.model);\r\n    }\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","\n/* styles */\nrequire(\"!!../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-c587c15c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c587c15c\\\"}!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 78\n// module chunks = 1"],"sourceRoot":""}